import{_ as n}from"./plugin-vue_export-helper-c27b6911.js";import{r as e,o as t,c as i,a,b as o,d as c,f as l}from"./app-731a6e06.js";const r={},p=l(`<h2 id="背景" tabindex="-1"><a class="header-anchor" href="#背景" aria-hidden="true">#</a> 背景</h2><ul><li>为了绕过同源策略，当 Cypress 开始运行测试时，会在 localhost 上打开一个随机端口进行初始化</li><li>直到遇见第一个 cy.visit() 命令里的 URL 才匹配被测应用程序的 URL</li></ul><p><img src="https://img2020.cnblogs.com/blog/1896874/202009/1896874-20200927104022599-830547965.png" alt="" loading="lazy"><br> 当 Cypress 以交互模式启动时，会看到 Cypress 先运行在 localhost 上然后又切换到 URL 重新运行（多消耗了一部分时间）</p><h2 id="设置全局-url" tabindex="-1"><a class="header-anchor" href="#设置全局-url" aria-hidden="true">#</a> 设置全局 URL</h2><h4 id="做法" tabindex="-1"><a class="header-anchor" href="#做法" aria-hidden="true">#</a> 做法</h4><p>在 cypress.json 中设置 baseUrl</p><h4 id="优势" tabindex="-1"><a class="header-anchor" href="#优势" aria-hidden="true">#</a> 优势</h4><ul><li>可以在运行时节省 Cypress 匹配被测应用程序 URl 的时间</li><li>还可以在编写待访问的 URL 时，忽略 baseUrl，直接写后面的路径</li></ul><figure><img src="https://img2020.cnblogs.com/blog/1896874/202009/1896874-20200927104709064-366741347.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h4 id="小栗子" tabindex="-1"><a class="header-anchor" href="#小栗子" aria-hidden="true">#</a> 小栗子</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 不加 baseUrl 的写法</span>
cy<span class="token punctuation">.</span><span class="token function">visit</span><span class="token punctuation">(</span><span class="token string">&#39;https://example.cypress.io/commands/actions&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// 加了上面 baseUrl 的写法</span>
cy<span class="token punctuation">.</span><span class="token function">visit</span><span class="token punctuation">(</span><span class="token string">&#39;/commands/actions&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p></p>`,12),d={href:"https://www.cnblogs.com/poloyy/p/13738202.html",target:"_blank",rel:"noopener noreferrer"};function h(u,m){const s=e("ExternalLinkIcon");return t(),i("div",null,[p,a("blockquote",null,[a("p",null,[a("a",d,[o("https://www.cnblogs.com/poloyy/p/13738202.html"),c(s)])])])])}const g=n(r,[["render",h],["__file","Cypress系列（055）--设置全局-URL.html.vue"]]);export{g as default};
