import{_ as p}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as c,c as l,a as n,b as s,d as e,f as t}from"./app-731a6e06.js";const i={},r=n("h2",{id:"动态生成测试用例",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#动态生成测试用例","aria-hidden":"true"},"#"),s(" 动态生成测试用例")],-1),u={href:"https://www.cnblogs.com/poloyy/p/13042466.html",target:"_blank",rel:"noopener noreferrer"},d=n("h2",{id:"静态挑选待运行测试用例",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#静态挑选待运行测试用例","aria-hidden":"true"},"#"),s(" 静态挑选待运行测试用例")],-1),k=n("p",null,[s("是指给测试用例添加关键字如：.only()、.skip()、或者指定 runFlag 且在运行时指定 runFlag 的值"),n("br"),s(" 具体学习可以看这两篇文章")],-1),h={href:"https://www.cnblogs.com/poloyy/p/13040113.html",target:"_blank",rel:"noopener noreferrer"},v={href:"https://www.cnblogs.com/poloyy/p/13039624.html",target:"_blank",rel:"noopener noreferrer"},m=t('<p></p><h2 id="动态挑选待运行测试用例" tabindex="-1"><a class="header-anchor" href="#动态挑选待运行测试用例" aria-hidden="true">#</a> 动态挑选待运行测试用例</h2><h4 id="什么是动态挑选待运行测试用例" tabindex="-1"><a class="header-anchor" href="#什么是动态挑选待运行测试用例" aria-hidden="true">#</a> 什么是动态挑选待运行测试用例</h4><p>指给测试用例添加一个或多个相应描述关键字，在运行时，指定相应的关键字，运行或排斥测试用例</p><h4 id="如何动态挑选待运行测试用例" tabindex="-1"><a class="header-anchor" href="#如何动态挑选待运行测试用例" aria-hidden="true">#</a> 如何动态挑选待运行测试用例</h4>',5),b=n("li",null,"使用 cypress-select-tests 插件",-1),f={href:"https://github.com/bahmutov/cypress-select-tests",target:"_blank",rel:"noopener noreferrer"},g=t(`<p></p><h3 id="安装插件" tabindex="-1"><a class="header-anchor" href="#安装插件" aria-hidden="true">#</a> 安装插件</h3><p>进入 cypress 安装目录下，cmd 执行：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>npm install <span class="token operator">--</span>save<span class="token operator">-</span>dev cypress<span class="token operator">-</span>select<span class="token operator">-</span>tests
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p></p><h3 id="设置插件" tabindex="-1"><a class="header-anchor" href="#设置插件" aria-hidden="true">#</a> 设置插件</h3><p>在 cypress/plugins/index.js 文件中输入以下代码</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> selectTestsWithGrep <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;cypress-select-tests/grep&#39;</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">on<span class="token punctuation">,</span> config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;file:preprocessor&#39;</span><span class="token punctuation">,</span> <span class="token function">selectTestsWithGrep</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p></p><h3 id="指定测试用例运行的栗子" tabindex="-1"><a class="header-anchor" href="#指定测试用例运行的栗子" aria-hidden="true">#</a> 指定测试用例运行的栗子</h3><h4 id="测试代码" tabindex="-1"><a class="header-anchor" href="#测试代码" aria-hidden="true">#</a> 测试代码</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">context</span><span class="token punctuation">(</span><span class="token string">&#39;指定测试用例运行的栗子&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#39;[smoke] 登录用例1&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cy<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;登录成功&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#39;[e2e,smoke] 登录用例1&#39;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cy<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;登录成功&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p></p><h4 id="执行以下命令" tabindex="-1"><a class="header-anchor" href="#执行以下命令" aria-hidden="true">#</a> 执行以下命令</h4><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>yarn cypress<span class="token operator">:</span>open <span class="token operator">--</span>env grep<span class="token operator">=</span>e2e
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p></p><ul><li>打开 Cypress 运行器，运行测试用例文件</li><li>**--env grep=e2e 的作用：**指定包含 e2e 标签的测试用例运行</li></ul><p></p><h4 id="测试结果" tabindex="-1"><a class="header-anchor" href="#测试结果" aria-hidden="true">#</a> 测试结果</h4><figure><img src="https://img2020.cnblogs.com/blog/1896874/202010/1896874-20201016160827681-399266918.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="使用该插件的重点" tabindex="-1"><a class="header-anchor" href="#使用该插件的重点" aria-hidden="true">#</a> 使用该插件的重点</h3><p>其实就是【写标签，通过各种方式传递环境变量】，以下是通过 CLI 方式传递环境变量的几种写法和对应的作用</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 仅运行带有 works 标签的测试用例</span>
<span class="token function">yarn</span> cypress <span class="token function">open</span> <span class="token parameter variable">--env</span> <span class="token function">grep</span> <span class="token operator">=</span> works
<span class="token comment"># 仅运行文件名中带有 foo 的文件</span>
<span class="token function">yarn</span> cypress <span class="token function">open</span> <span class="token parameter variable">--env</span> <span class="token function">fgrep</span> <span class="token operator">=</span> foo
<span class="token comment"># 仅运行文件名中带有 foo 的文件，且仅运行文件中带有 works 标签的测试用例</span>
<span class="token function">yarn</span> cypress <span class="token function">open</span> <span class="token parameter variable">--env</span> <span class="token function">fgrep</span> <span class="token operator">=</span> foo，grep <span class="token operator">=</span> works
<span class="token comment"># 仅运行带有 &#39;功能A&#39; 标签的测试用例</span>
<span class="token function">yarn</span> cypress <span class="token function">open</span> <span class="token parameter variable">--env</span> <span class="token function">grep</span> <span class="token operator">=</span><span class="token string">&#39;功能A&#39;</span>
<span class="token comment">#仅运行文件名中不带有 foo 的文件</span>
<span class="token function">yarn</span> cypress <span class="token function">open</span> <span class="token parameter variable">--env</span> <span class="token function">fgrep</span> <span class="token operator">=</span> foo，invert <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token comment">#仅运行不带有 works 标签的测试用例</span>
<span class="token function">yarn</span> cypress <span class="token function">open</span> <span class="token parameter variable">--env</span> <span class="token function">grep</span> <span class="token operator">=</span> works，invert <span class="token operator">=</span> <span class="token boolean">true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p></p>`,24),_={href:"https://www.cnblogs.com/poloyy/p/13830031.html",target:"_blank",rel:"noopener noreferrer"};function y(w,x){const a=o("ExternalLinkIcon");return c(),l("div",null,[r,n("p",null,[s("直接看这篇文章哦："),n("a",u,[s("https://www.cnblogs.com/poloyy/p/13042466.html"),e(a)])]),d,k,n("ul",null,[n("li",null,[n("a",h,[s("https://www.cnblogs.com/poloyy/p/13040113.html"),e(a)])]),n("li",null,[n("a",v,[s("https://www.cnblogs.com/poloyy/p/13039624.html"),e(a)])])]),m,n("ul",null,[b,n("li",null,[s("官方："),n("a",f,[s("https://github.com/bahmutov/cypress-select-tests"),e(a)])])]),g,n("blockquote",null,[n("p",null,[n("a",_,[s("https://www.cnblogs.com/poloyy/p/13830031.html"),e(a)])])])])}const N=p(i,[["render",y],["__file","Cypress系列（066）--测试运行最佳实践.html.vue"]]);export{N as default};
