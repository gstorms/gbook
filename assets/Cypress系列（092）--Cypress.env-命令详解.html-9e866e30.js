import{_ as t}from"./plugin-vue_export-helper-c27b6911.js";import{r as i,o as r,c as o,a,b as n,d as s,f as l}from"./app-731a6e06.js";const c={},p=a("h2",{id:"作用",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#作用","aria-hidden":"true"},"#"),n(" 作用")],-1),d=a("li",null,"在测试中获取并设置环境变量",-1),h={href:"https://www.cnblogs.com/poloyy/p/13056393.html",target:"_blank",rel:"noopener noreferrer"},u=l(`<p></p><h4 id="作用范围" tabindex="-1"><a class="header-anchor" href="#作用范围" aria-hidden="true">#</a> 作用范围</h4><ul><li>使用 Cypress.env 设置的环境变量<strong>仅在</strong>当前规范文件（js 测试文件）的范围内生效</li><li>Cypress 隔离运行每个测试文件：在一个测试文件中更改的环境变量在其他测试文件中<strong>不可见</strong></li></ul><p></p><h2 id="语法格式" tabindex="-1"><a class="header-anchor" href="#语法格式" aria-hidden="true">#</a> 语法格式</h2><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>Cypress<span class="token punctuation">.</span><span class="token function">env</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
Cypress<span class="token punctuation">.</span><span class="token function">env</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
Cypress<span class="token punctuation">.</span><span class="token function">env</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
Cypress<span class="token punctuation">.</span><span class="token function">env</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p></p><h4 id="name" tabindex="-1"><a class="header-anchor" href="#name" aria-hidden="true">#</a> name</h4><p>要获取或设置的环境变量名称</p><h4 id="value" tabindex="-1"><a class="header-anchor" href="#value" aria-hidden="true">#</a> value</h4><p>要设置的环境变量值</p><h4 id="object" tabindex="-1"><a class="header-anchor" href="#object" aria-hidden="true">#</a> object</h4><p>使用对象属性（ {} 的格式）设置多个环境变量</p><h2 id="实际栗子" tabindex="-1"><a class="header-anchor" href="#实际栗子" aria-hidden="true">#</a> 实际栗子</h2><h4 id="代码" tabindex="-1"><a class="header-anchor" href="#代码" aria-hidden="true">#</a> 代码</h4><figure><img src="https://img2020.cnblogs.com/blog/1896874/202011/1896874-20201124163719869-1280243131.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h4 id="运行结果" tabindex="-1"><a class="header-anchor" href="#运行结果" aria-hidden="true">#</a> 运行结果</h4><p><img src="https://img2020.cnblogs.com/blog/1896874/202011/1896874-20201124163819097-867243906.png" alt="" loading="lazy"><br><img src="https://img2020.cnblogs.com/blog/1896874/202011/1896874-20201124163828217-1703346171.png" alt="" loading="lazy"></p><h2 id="重点" tabindex="-1"><a class="header-anchor" href="#重点" aria-hidden="true">#</a> 重点</h2><figure><img src="https://img2020.cnblogs.com/blog/1896874/202011/1896874-20201124164053757-2132605451.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>获取的环境变量是依照上图的 env 来拿的</li><li>使用 Cypress.env 设置环境变量会覆盖已有的环境变量</li></ul><p></p><h2 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项" aria-hidden="true">#</a> 注意事项</h2><p>首次运行当前测试文件后设置的环境变量会一直保存到结束测试（关闭浏览器或 Stop），什么意思？？</p><h4 id="测试用例代码" tabindex="-1"><a class="header-anchor" href="#测试用例代码" aria-hidden="true">#</a> 测试用例代码</h4><p><img src="https://img2020.cnblogs.com/blog/1896874/202011/1896874-20201124164932238-76068962.png" alt="" loading="lazy"><br> 我将会删掉 user 这个变量以及修改 pwd 这个变量名</p><h4 id="运行结果-1" tabindex="-1"><a class="header-anchor" href="#运行结果-1" aria-hidden="true">#</a> 运行结果</h4><p><img src="https://img2020.cnblogs.com/blog/1896874/202011/1896874-20201124164948584-832397757.png" alt="" loading="lazy"><br> 共 10 个环境变量</p><h4 id="修改后的测试用例代码" tabindex="-1"><a class="header-anchor" href="#修改后的测试用例代码" aria-hidden="true">#</a> 修改后的测试用例代码</h4><p><img src="https://img2020.cnblogs.com/blog/1896874/202011/1896874-20201124165002875-677769874.png" alt="" loading="lazy"><br> 已经删掉了 user 和改了 pwd</p><h4 id="修改后的运行结果" tabindex="-1"><a class="header-anchor" href="#修改后的运行结果" aria-hidden="true">#</a> 修改后的运行结果</h4><p><img src="https://img2020.cnblogs.com/blog/1896874/202011/1896874-20201124165022655-515448536.png" alt="" loading="lazy"><br> 共 11 个环境变量，pwd 和 user 还在</p><h4 id="总结" tabindex="-1"><a class="header-anchor" href="#总结" aria-hidden="true">#</a> 总结</h4><p>只有 Stop 和手动关闭浏览器然后再次开始测试才会重置环境变量</p>`,34),g={href:"https://www.cnblogs.com/poloyy/p/14031174.html",target:"_blank",rel:"noopener noreferrer"};function b(m,f){const e=i("ExternalLinkIcon");return r(),o("div",null,[p,a("ul",null,[d,a("li",null,[n("环境变量详解的文章可看："),a("a",h,[n("https://www.cnblogs.com/poloyy/p/13056393.html"),s(e)])])]),u,a("blockquote",null,[a("p",null,[a("a",g,[n("https://www.cnblogs.com/poloyy/p/14031174.html"),s(e)])])])])}const y=t(c,[["render",b],["__file","Cypress系列（092）--Cypress.env-命令详解.html.vue"]]);export{y as default};
