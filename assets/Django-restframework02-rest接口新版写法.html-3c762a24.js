import{_ as p}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as i,c as l,a as n,b as s,d as e,f as t}from"./app-cfbf85c1.js";const c={},r=t(`<h2 id="rest框架简介" tabindex="-1"><a class="header-anchor" href="#rest框架简介" aria-hidden="true">#</a> REST框架简介</h2><ol><li>身份验证策略OAuth1a和OAuth2的包</li><li>支持ORM和非ORM数据源的序列化</li><li>可以自定义，基于功能的常规视图</li></ol><h2 id="简单的接口写法" tabindex="-1"><a class="header-anchor" href="#简单的接口写法" aria-hidden="true">#</a> 简单的接口写法</h2><h3 id="_1-设置settings" tabindex="-1"><a class="header-anchor" href="#_1-设置settings" aria-hidden="true">#</a> 1. 设置settings</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>     INSTALLED_APPS <span class="token operator">=</span> <span class="token punctuation">(</span>
         <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
         <span class="token string">&#39;rest_framework&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>

    <span class="token comment"># 配置我们框架</span>
    REST_FRAMEWORK <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment"># 设置权限，即谁可以访问，如认证过的，匿名的等</span>
    <span class="token string">&#39;DEFAULT_PERMISSION_CLASSES&#39;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token string">&#39;rest_framework.permissions.DjangoModelPermissionsOrAnonReadOnly&#39;</span>
    <span class="token punctuation">]</span>，
    <span class="token comment"># 每页显示的个数</span>
     <span class="token string">&#39;PAGE_SIZE&#39;</span><span class="token punctuation">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5),u={id:"_2-rest框架的登录和注销视图-设置urls-py",tabindex:"-1"},d=n("a",{class:"header-anchor",href:"#_2-rest框架的登录和注销视图-设置urls-py","aria-hidden":"true"},"#",-1),k={href:"http://xn--urls-9v6k632d.py",target:"_blank",rel:"noopener noreferrer"},m=t(`<div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> rest_framework <span class="token keyword">import</span> routers
<span class="token comment"># 建立一个路由器对象</span>
router <span class="token operator">=</span> routers<span class="token punctuation">.</span>DefaultRouter<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># 将我们的路由注册到url里， /users/</span>
router<span class="token punctuation">.</span>register<span class="token punctuation">(</span><span class="token string">r&#39;users&#39;</span><span class="token punctuation">,</span> UserViewSet<span class="token punctuation">)</span>
urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    url<span class="token punctuation">(</span><span class="token string">r&#39;^&#39;</span><span class="token punctuation">,</span> include<span class="token punctuation">(</span>router<span class="token punctuation">.</span>urls<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    url<span class="token punctuation">(</span><span class="token string">r&#39;^api-auth/&#39;</span><span class="token punctuation">,</span> include<span class="token punctuation">(</span><span class="token string">&#39;rest_framework.urls&#39;</span><span class="token punctuation">,</span> namespace<span class="token operator">=</span><span class="token string">&#39;rest_framework&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>
<span class="token comment"># URL路径可以是任何你想要的，但你必须包括&#39;rest_framework.urls&#39;与&#39;rest_framework&#39;命名空间, 1.9以前</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),v={id:"_3-在app中添加我们的序列器-serializer-py",tabindex:"-1"},_=n("a",{class:"header-anchor",href:"#_3-在app中添加我们的序列器-serializer-py","aria-hidden":"true"},"#",-1),b={href:"http://serializer.py",target:"_blank",rel:"noopener noreferrer"},h=t(`<div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> django<span class="token punctuation">.</span>conf<span class="token punctuation">.</span>urls <span class="token keyword">import</span> url<span class="token punctuation">,</span> include
<span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib<span class="token punctuation">.</span>auth<span class="token punctuation">.</span>models <span class="token keyword">import</span> User
<span class="token keyword">from</span> rest_framework <span class="token keyword">import</span> routers<span class="token punctuation">,</span> serializers<span class="token punctuation">,</span> viewsets

<span class="token comment"># Serializers define the API representation.</span>
<span class="token keyword">class</span> <span class="token class-name">UserSerializer</span><span class="token punctuation">(</span>serializers<span class="token punctuation">.</span>HyperlinkedModelSerializer<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span>
        model <span class="token operator">=</span> User
        <span class="token comment"># 定义了我们序列化的模型和显示的字段， url为网络接口</span>
        fields <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">&#39;url&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;username&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;email&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;is_staff&#39;</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">UserViewSet</span><span class="token punctuation">(</span>viewsets<span class="token punctuation">.</span>ModelViewSet<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment"># 查询对象集</span>
    queryset <span class="token operator">=</span> User<span class="token punctuation">.</span>objects<span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># 序列化的类名</span>
    serializer_class <span class="token operator">=</span> UserSerializer
    <span class="token comment"># 固定写法！不能改名字！</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),f=n("br",null,null,-1),g=n("br",null,null,-1),y={href:"https://blog.csdn.net/runnoob_1115/article/details/78479109",target:"_blank",rel:"noopener noreferrer"};function w(S,x){const a=o("ExternalLinkIcon");return i(),l("div",null,[r,n("h3",u,[d,s(" 2. REST框架的登录和注销视图,"),n("a",k,[s("设置urls.py"),e(a)]),s(",")]),m,n("h3",v,[_,s(" 3. 在app中添加我们的序列器，"),n("a",b,[s("serializer.py"),e(a)])]),h,n("p",null,[s("————————————————"),f,s(" 版权声明：本文为CSDN博主「敲代码的伪文青」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。"),g,s(" 原文链接："),n("a",y,[s("https://blog.csdn.net/runnoob_1115/article/details/78479109"),e(a)])])])}const z=p(c,[["render",w],["__file","Django-restframework02-rest接口新版写法.html.vue"]]);export{z as default};
