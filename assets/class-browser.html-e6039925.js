import{_ as o}from"./plugin-vue_export-helper-c27b6911.js";import{r as p,o as c,c as i,a as n,b as s,d as t,f as e}from"./app-207e7d61.js";const l={},r=e(`<h1 id="class-browser" tabindex="-1"><a class="header-anchor" href="#class-browser" aria-hidden="true">#</a> class: Browser</h1><ul><li>since: v1.8</li><li>extends: [EventEmitter]</li></ul><p>A Browser is created via [<code>method: BrowserType.launch</code>]. An example of using a [Browser] to create a [Page]:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> firefox <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;playwright&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Or &#39;chromium&#39; or &#39;webkit&#39;.</span>

<span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> browser <span class="token operator">=</span> <span class="token keyword">await</span> firefox<span class="token punctuation">.</span><span class="token function">launch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> browser<span class="token punctuation">.</span><span class="token function">newPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">goto</span><span class="token punctuation">(</span><span class="token string">&#39;https://example.com&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> browser<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>microsoft<span class="token punctuation">.</span>playwright<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Example</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">Playwright</span> playwright <span class="token operator">=</span> <span class="token class-name">Playwright</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">BrowserType</span> firefox <span class="token operator">=</span> playwright<span class="token punctuation">.</span><span class="token function">firefox</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token class-name">Browser</span> browser <span class="token operator">=</span> firefox<span class="token punctuation">.</span><span class="token function">launch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">Page</span> page <span class="token operator">=</span> browser<span class="token punctuation">.</span><span class="token function">newPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      page<span class="token punctuation">.</span><span class="token function">navigate</span><span class="token punctuation">(</span>&#39;https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com&#39;<span class="token punctuation">)</span><span class="token punctuation">;</span>
      browser<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> asyncio
<span class="token keyword">from</span> playwright<span class="token punctuation">.</span>async_api <span class="token keyword">import</span> async_playwright

<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>playwright<span class="token punctuation">)</span><span class="token punctuation">:</span>
    firefox <span class="token operator">=</span> playwright<span class="token punctuation">.</span>firefox
    browser <span class="token operator">=</span> <span class="token keyword">await</span> firefox<span class="token punctuation">.</span>launch<span class="token punctuation">(</span><span class="token punctuation">)</span>
    page <span class="token operator">=</span> <span class="token keyword">await</span> browser<span class="token punctuation">.</span>new_page<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">await</span> page<span class="token punctuation">.</span>goto<span class="token punctuation">(</span><span class="token string">&quot;https://example.com&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">await</span> browser<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">async</span> <span class="token keyword">with</span> async_playwright<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> playwright<span class="token punctuation">:</span>
        <span class="token keyword">await</span> run<span class="token punctuation">(</span>playwright<span class="token punctuation">)</span>
asyncio<span class="token punctuation">.</span>run<span class="token punctuation">(</span>main<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> playwright<span class="token punctuation">.</span>sync_api <span class="token keyword">import</span> sync_playwright

<span class="token keyword">def</span> <span class="token function">run</span><span class="token punctuation">(</span>playwright<span class="token punctuation">)</span><span class="token punctuation">:</span>
    firefox <span class="token operator">=</span> playwright<span class="token punctuation">.</span>firefox
    browser <span class="token operator">=</span> firefox<span class="token punctuation">.</span>launch<span class="token punctuation">(</span><span class="token punctuation">)</span>
    page <span class="token operator">=</span> browser<span class="token punctuation">.</span>new_page<span class="token punctuation">(</span><span class="token punctuation">)</span>
    page<span class="token punctuation">.</span>goto<span class="token punctuation">(</span><span class="token string">&quot;https://example.com&quot;</span><span class="token punctuation">)</span>
    browser<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">with</span> sync_playwright<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> playwright<span class="token punctuation">:</span>
    run<span class="token punctuation">(</span>playwright<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">using</span> <span class="token namespace">Microsoft<span class="token punctuation">.</span>Playwright</span><span class="token punctuation">;</span>

<span class="token keyword">using</span> <span class="token class-name"><span class="token keyword">var</span></span> playwright <span class="token operator">=</span> <span class="token keyword">await</span> Playwright<span class="token punctuation">.</span><span class="token function">CreateAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> firefox <span class="token operator">=</span> playwright<span class="token punctuation">.</span>Firefox<span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> browser <span class="token operator">=</span> <span class="token keyword">await</span> firefox<span class="token punctuation">.</span><span class="token function">LaunchAsync</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">BrowserTypeLaunchOptions</span> <span class="token punctuation">{</span> Headless <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> page <span class="token operator">=</span> <span class="token keyword">await</span> browser<span class="token punctuation">.</span><span class="token function">NewPageAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">GotoAsync</span><span class="token punctuation">(</span><span class="token string">&quot;https://www.bing.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> browser<span class="token punctuation">.</span><span class="token function">CloseAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="event-browser-disconnected" tabindex="-1"><a class="header-anchor" href="#event-browser-disconnected" aria-hidden="true">#</a> event: Browser.disconnected</h2><ul><li>since: v1.8</li></ul><ul><li>argument: &lt;[Browser]&gt;</li></ul><p>Emitted when Browser gets disconnected from the browser application. This might happen because of one of the following:</p><ul><li>Browser application is closed or crashed.</li><li>The [<code>method: Browser.close</code>] method was called.</li></ul><h2 id="method-browser-browsertype" tabindex="-1"><a class="header-anchor" href="#method-browser-browsertype" aria-hidden="true">#</a> method: Browser.browserType</h2><ul><li>since: v1.23</li></ul><ul><li>returns: &lt;[BrowserType]&gt;</li></ul><p>Get the browser type (chromium, firefox or webkit) that the browser belongs to.</p><h2 id="async-method-browser-close" tabindex="-1"><a class="header-anchor" href="#async-method-browser-close" aria-hidden="true">#</a> async method: Browser.close</h2><ul><li>since: v1.8</li></ul><p>In case this browser is obtained using [<code>method: BrowserType.launch</code>], closes the browser and all of its pages (if any<br> were opened).</p><p>In case this browser is connected to, clears all created contexts belonging to this browser and disconnects from the<br> browser server.</p><div class="hint-container note"><p class="hint-container-title">注</p><p>This is similar to force quitting the browser. Therefore, you should call [<code>method: BrowserContext.close</code>] on any [BrowserContext]&#39;s you explicitly created earlier with [<code>method: Browser.newContext</code>] <strong>before</strong> calling [<code>method: Browser.close</code>].</p></div><p>The [Browser] object itself is considered to be disposed and cannot be used anymore.</p><h2 id="method-browser-contexts" tabindex="-1"><a class="header-anchor" href="#method-browser-contexts" aria-hidden="true">#</a> method: Browser.contexts</h2><ul><li>since: v1.8</li></ul><ul><li>returns: &lt;[Array]&lt;[BrowserContext]&gt;&gt;</li></ul><p>Returns an array of all open browser contexts. In a newly created browser, this will return zero browser contexts.</p><p><strong>Usage</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> browser <span class="token operator">=</span> <span class="token keyword">await</span> pw<span class="token punctuation">.</span>webkit<span class="token punctuation">.</span><span class="token function">launch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>browser<span class="token punctuation">.</span><span class="token function">contexts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// prints \`0\`</span>

<span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token keyword">await</span> browser<span class="token punctuation">.</span><span class="token function">newContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>browser<span class="token punctuation">.</span><span class="token function">contexts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// prints \`1\`</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Browser</span> browser <span class="token operator">=</span> pw<span class="token punctuation">.</span><span class="token function">webkit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">launch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>browser<span class="token punctuation">.</span><span class="token function">contexts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// prints &quot;0&quot;</span>
<span class="token class-name">BrowserContext</span> context <span class="token operator">=</span> browser<span class="token punctuation">.</span><span class="token function">newContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>browser<span class="token punctuation">.</span><span class="token function">contexts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// prints &quot;1&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>browser <span class="token operator">=</span> <span class="token keyword">await</span> pw<span class="token punctuation">.</span>webkit<span class="token punctuation">.</span>launch<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>browser<span class="token punctuation">.</span>contexts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># prints \`0\`</span>
context <span class="token operator">=</span> <span class="token keyword">await</span> browser<span class="token punctuation">.</span>new_context<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>browser<span class="token punctuation">.</span>contexts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># prints \`1\`</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>browser <span class="token operator">=</span> pw<span class="token punctuation">.</span>webkit<span class="token punctuation">.</span>launch<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>browser<span class="token punctuation">.</span>contexts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># prints \`0\`</span>
context <span class="token operator">=</span> browser<span class="token punctuation">.</span>new_context<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>browser<span class="token punctuation">.</span>contexts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># prints \`1\`</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">using</span> <span class="token class-name"><span class="token keyword">var</span></span> playwright <span class="token operator">=</span> <span class="token keyword">await</span> Playwright<span class="token punctuation">.</span><span class="token function">CreateAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> browser <span class="token operator">=</span> <span class="token keyword">await</span> playwright<span class="token punctuation">.</span>Webkit<span class="token punctuation">.</span><span class="token function">LaunchAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
System<span class="token punctuation">.</span>Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>browser<span class="token punctuation">.</span>Contexts<span class="token punctuation">.</span>Count<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// prints &quot;0&quot;</span>
<span class="token class-name"><span class="token keyword">var</span></span> context <span class="token operator">=</span> <span class="token keyword">await</span> browser<span class="token punctuation">.</span><span class="token function">NewContextAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
System<span class="token punctuation">.</span>Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span>browser<span class="token punctuation">.</span>Contexts<span class="token punctuation">.</span>Count<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// prints &quot;1&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="method-browser-isconnected" tabindex="-1"><a class="header-anchor" href="#method-browser-isconnected" aria-hidden="true">#</a> method: Browser.isConnected</h2><ul><li>since: v1.8</li></ul><ul><li>returns: &lt;[boolean]&gt;</li></ul><p>Indicates that the browser is connected.</p><h2 id="async-method-browser-newbrowsercdpsession" tabindex="-1"><a class="header-anchor" href="#async-method-browser-newbrowsercdpsession" aria-hidden="true">#</a> async method: Browser.newBrowserCDPSession</h2><ul><li>since: v1.11</li><li>langs: js, python, csharp</li></ul><ul><li>returns: &lt;[CDPSession]&gt;</li></ul><div class="hint-container note"><p class="hint-container-title">注</p><p>CDP Sessions are only supported on Chromium-based browsers.</p></div><p>Returns the newly created browser session.</p><h2 id="async-method-browser-newcontext" tabindex="-1"><a class="header-anchor" href="#async-method-browser-newcontext" aria-hidden="true">#</a> async method: Browser.newContext</h2><ul><li>since: v1.8</li></ul><ul><li>returns: &lt;[BrowserContext]&gt;</li></ul><p>Creates a new browser context. It won&#39;t share cookies/cache with other browser contexts.</p><div class="hint-container note"><p class="hint-container-title">注</p><p>If directly using this method to create [BrowserContext]s, it is best practice to explicitly close the returned context via [<code>method: BrowserContext.close</code>] when your code is done with the [BrowserContext],<br> and before calling [<code>method: Browser.close</code>]. This will ensure the <code>context</code> is closed gracefully and any artifacts—like HARs and videos—are fully flushed and saved.</p></div><p><strong>Usage</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> browser <span class="token operator">=</span> <span class="token keyword">await</span> playwright<span class="token punctuation">.</span>firefox<span class="token punctuation">.</span><span class="token function">launch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Or &#39;chromium&#39; or &#39;webkit&#39;.</span>
  <span class="token comment">// Create a new incognito browser context.</span>
  <span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token keyword">await</span> browser<span class="token punctuation">.</span><span class="token function">newContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Create a new page in a pristine context.</span>
  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> context<span class="token punctuation">.</span><span class="token function">newPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">goto</span><span class="token punctuation">(</span><span class="token string">&#39;https://example.com&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// Gracefully close up everything</span>
  <span class="token keyword">await</span> context<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> browser<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Browser</span> browser <span class="token operator">=</span> playwright<span class="token punctuation">.</span><span class="token function">firefox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">launch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// Or &#39;chromium&#39; or &#39;webkit&#39;.</span>
<span class="token comment">// Create a new incognito browser context.</span>
<span class="token class-name">BrowserContext</span> context <span class="token operator">=</span> browser<span class="token punctuation">.</span><span class="token function">newContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Create a new page in a pristine context.</span>
<span class="token class-name">Page</span> page <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">newPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
page<span class="token punctuation">.</span><span class="token function">navigate</span><span class="token punctuation">(</span>&#39;https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>example<span class="token punctuation">.</span>com&#39;<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Graceful close up everything</span>
context<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
browser<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>browser <span class="token operator">=</span> <span class="token keyword">await</span> playwright<span class="token punctuation">.</span>firefox<span class="token punctuation">.</span>launch<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># or &quot;chromium&quot; or &quot;webkit&quot;.</span>
<span class="token comment"># create a new incognito browser context.</span>
context <span class="token operator">=</span> <span class="token keyword">await</span> browser<span class="token punctuation">.</span>new_context<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># create a new page in a pristine context.</span>
page <span class="token operator">=</span> <span class="token keyword">await</span> context<span class="token punctuation">.</span>new_page<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span>goto<span class="token punctuation">(</span><span class="token string">&quot;https://example.com&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># gracefully close up everything</span>
<span class="token keyword">await</span> context<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">await</span> browser<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>browser <span class="token operator">=</span> playwright<span class="token punctuation">.</span>firefox<span class="token punctuation">.</span>launch<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># or &quot;chromium&quot; or &quot;webkit&quot;.</span>
<span class="token comment"># create a new incognito browser context.</span>
context <span class="token operator">=</span> browser<span class="token punctuation">.</span>new_context<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># create a new page in a pristine context.</span>
page <span class="token operator">=</span> context<span class="token punctuation">.</span>new_page<span class="token punctuation">(</span><span class="token punctuation">)</span>
page<span class="token punctuation">.</span>goto<span class="token punctuation">(</span><span class="token string">&quot;https://example.com&quot;</span><span class="token punctuation">)</span>

<span class="token comment"># gracefully close up everything</span>
context<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
browser<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">using</span> <span class="token class-name"><span class="token keyword">var</span></span> playwright <span class="token operator">=</span> <span class="token keyword">await</span> Playwright<span class="token punctuation">.</span><span class="token function">CreateAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> browser <span class="token operator">=</span> <span class="token keyword">await</span> playwright<span class="token punctuation">.</span>Firefox<span class="token punctuation">.</span><span class="token function">LaunchAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Create a new incognito browser context.</span>
<span class="token class-name"><span class="token keyword">var</span></span> context <span class="token operator">=</span> <span class="token keyword">await</span> browser<span class="token punctuation">.</span><span class="token function">NewContextAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Create a new page in a pristine context.</span>
<span class="token class-name"><span class="token keyword">var</span></span> page <span class="token operator">=</span> <span class="token keyword">await</span> context<span class="token punctuation">.</span><span class="token function">NewPageAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">;</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">GotoAsync</span><span class="token punctuation">(</span><span class="token string">&quot;https://www.bing.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Gracefully close up everything</span>
<span class="token keyword">await</span> context<span class="token punctuation">.</span><span class="token function">CloseAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> browser<span class="token punctuation">.</span><span class="token function">CloseAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="option-browser-newcontext-inline-shared-context-params-list-v1-8" tabindex="-1"><a class="header-anchor" href="#option-browser-newcontext-inline-shared-context-params-list-v1-8" aria-hidden="true">#</a> option: Browser.newContext.-inline- = %%-shared-context-params-list-v1.8-%%</h3><ul><li>since: v1.8</li></ul><h3 id="option-browser-newcontext-proxy-context-option-proxy" tabindex="-1"><a class="header-anchor" href="#option-browser-newcontext-proxy-context-option-proxy" aria-hidden="true">#</a> option: Browser.newContext.proxy = %%-context-option-proxy-%%</h3><ul><li>since: v1.8</li></ul><h3 id="option-browser-newcontext-storagestate-js-python-context-option-storage-state" tabindex="-1"><a class="header-anchor" href="#option-browser-newcontext-storagestate-js-python-context-option-storage-state" aria-hidden="true">#</a> option: Browser.newContext.storageState = %%-js-python-context-option-storage-state-%%</h3><ul><li>since: v1.8</li></ul><h3 id="option-browser-newcontext-storagestate-csharp-java-context-option-storage-state" tabindex="-1"><a class="header-anchor" href="#option-browser-newcontext-storagestate-csharp-java-context-option-storage-state" aria-hidden="true">#</a> option: Browser.newContext.storageState = %%-csharp-java-context-option-storage-state-%%</h3><ul><li>since: v1.8</li></ul><h3 id="option-browser-newcontext-storagestatepath-csharp-java-context-option-storage-state-path" tabindex="-1"><a class="header-anchor" href="#option-browser-newcontext-storagestatepath-csharp-java-context-option-storage-state-path" aria-hidden="true">#</a> option: Browser.newContext.storageStatePath = %%-csharp-java-context-option-storage-state-path-%%</h3><ul><li>since: v1.9</li></ul><h2 id="async-method-browser-newpage" tabindex="-1"><a class="header-anchor" href="#async-method-browser-newpage" aria-hidden="true">#</a> async method: Browser.newPage</h2><ul><li>since: v1.8</li></ul><ul><li>returns: &lt;[Page]&gt;</li></ul><p>Creates a new page in a new browser context. Closing this page will close the context as well.</p><p>This is a convenience API that should only be used for the single-page scenarios and short snippets. Production code and<br> testing frameworks should explicitly create [<code>method: Browser.newContext</code>] followed by the<br> [<code>method: BrowserContext.newPage</code>] to control their exact life times.</p><h3 id="option-browser-newpage-inline-shared-context-params-list-v1-8" tabindex="-1"><a class="header-anchor" href="#option-browser-newpage-inline-shared-context-params-list-v1-8" aria-hidden="true">#</a> option: Browser.newPage.-inline- = %%-shared-context-params-list-v1.8-%%</h3><ul><li>since: v1.8</li></ul><h3 id="option-browser-newpage-proxy-context-option-proxy" tabindex="-1"><a class="header-anchor" href="#option-browser-newpage-proxy-context-option-proxy" aria-hidden="true">#</a> option: Browser.newPage.proxy = %%-context-option-proxy-%%</h3><ul><li>since: v1.8</li></ul><h3 id="option-browser-newpage-storagestate-js-python-context-option-storage-state" tabindex="-1"><a class="header-anchor" href="#option-browser-newpage-storagestate-js-python-context-option-storage-state" aria-hidden="true">#</a> option: Browser.newPage.storageState = %%-js-python-context-option-storage-state-%%</h3><ul><li>since: v1.8</li></ul><h3 id="option-browser-newpage-storagestate-csharp-java-context-option-storage-state" tabindex="-1"><a class="header-anchor" href="#option-browser-newpage-storagestate-csharp-java-context-option-storage-state" aria-hidden="true">#</a> option: Browser.newPage.storageState = %%-csharp-java-context-option-storage-state-%%</h3><ul><li>since: v1.8</li></ul><h3 id="option-browser-newpage-storagestatepath-csharp-java-context-option-storage-state-path" tabindex="-1"><a class="header-anchor" href="#option-browser-newpage-storagestatepath-csharp-java-context-option-storage-state-path" aria-hidden="true">#</a> option: Browser.newPage.storageStatePath = %%-csharp-java-context-option-storage-state-path-%%</h3><ul><li>since: v1.9</li></ul><h2 id="async-method-browser-starttracing" tabindex="-1"><a class="header-anchor" href="#async-method-browser-starttracing" aria-hidden="true">#</a> async method: Browser.startTracing</h2><ul><li>since: v1.11</li><li>langs: java, js, python</li></ul>`,80),u={class:"hint-container note"},d=n("p",{class:"hint-container-title"},"注",-1),k={href:"https://www.chromium.org/developers/how-tos/trace-event-profiling-tool",target:"_blank",rel:"noopener noreferrer"},w=n("a",{href:"../trace-viewer"},"Playwright Tracing",-1),h=n("a",{href:"./class-tracing"},"here",-1),v=e(`<p>You can use [<code>method: Browser.startTracing</code>] and [<code>method: Browser.stopTracing</code>] to create a trace file that can<br> be opened in Chrome DevTools performance panel.</p><p><strong>Usage</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">await</span> browser<span class="token punctuation">.</span><span class="token function">startTracing</span><span class="token punctuation">(</span>page<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;trace.json&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">goto</span><span class="token punctuation">(</span><span class="token string">&#39;https://www.google.com&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> browser<span class="token punctuation">.</span><span class="token function">stopTracing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>browser<span class="token punctuation">.</span><span class="token function">startTracing</span><span class="token punctuation">(</span>page<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Browser<span class="token punctuation">.</span>StartTracingOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">setPath</span><span class="token punctuation">(</span><span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;trace.json&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
page<span class="token punctuation">.</span><span class="token keyword">goto</span><span class="token punctuation">(</span>&#39;https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>google<span class="token punctuation">.</span>com&#39;<span class="token punctuation">)</span><span class="token punctuation">;</span>
browser<span class="token punctuation">.</span><span class="token function">stopTracing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">await</span> browser<span class="token punctuation">.</span>start_tracing<span class="token punctuation">(</span>page<span class="token punctuation">,</span> path<span class="token operator">=</span><span class="token string">&quot;trace.json&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span>goto<span class="token punctuation">(</span><span class="token string">&quot;https://www.google.com&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">await</span> browser<span class="token punctuation">.</span>stop_tracing<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>browser<span class="token punctuation">.</span>start_tracing<span class="token punctuation">(</span>page<span class="token punctuation">,</span> path<span class="token operator">=</span><span class="token string">&quot;trace.json&quot;</span><span class="token punctuation">)</span>
page<span class="token punctuation">.</span>goto<span class="token punctuation">(</span><span class="token string">&quot;https://www.google.com&quot;</span><span class="token punctuation">)</span>
browser<span class="token punctuation">.</span>stop_tracing<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="param-browser-starttracing-page" tabindex="-1"><a class="header-anchor" href="#param-browser-starttracing-page" aria-hidden="true">#</a> param: Browser.startTracing.page</h3><ul><li>since: v1.11</li></ul><ul><li><code>page</code> ?&lt;[Page]&gt;</li></ul><p>Optional, if specified, tracing includes screenshots of the given page.</p><h3 id="option-browser-starttracing-path" tabindex="-1"><a class="header-anchor" href="#option-browser-starttracing-path" aria-hidden="true">#</a> option: Browser.startTracing.path</h3><ul><li>since: v1.11</li></ul><ul><li><code>path</code> &lt;[path]&gt;</li></ul><p>A path to write the trace file to.</p><h3 id="option-browser-starttracing-screenshots" tabindex="-1"><a class="header-anchor" href="#option-browser-starttracing-screenshots" aria-hidden="true">#</a> option: Browser.startTracing.screenshots</h3><ul><li>since: v1.11</li></ul><ul><li><code>screenshots</code> &lt;[boolean]&gt;</li></ul><p>captures screenshots in the trace.</p><h3 id="option-browser-starttracing-categories" tabindex="-1"><a class="header-anchor" href="#option-browser-starttracing-categories" aria-hidden="true">#</a> option: Browser.startTracing.categories</h3><ul><li>since: v1.11</li></ul><ul><li><code>categories</code> &lt;[Array]&lt;[string]&gt;&gt;</li></ul><p>specify custom categories to use instead of default.</p><h2 id="async-method-browser-stoptracing" tabindex="-1"><a class="header-anchor" href="#async-method-browser-stoptracing" aria-hidden="true">#</a> async method: Browser.stopTracing</h2><ul><li>since: v1.11</li><li>langs: java, js, python</li></ul><ul><li>returns: &lt;[Buffer]&gt;</li></ul>`,25),m={class:"hint-container note"},b=n("p",{class:"hint-container-title"},"注",-1),g={href:"https://www.chromium.org/developers/how-tos/trace-event-profiling-tool",target:"_blank",rel:"noopener noreferrer"},y=n("a",{href:"../trace-viewer"},"Playwright Tracing",-1),x=n("a",{href:"./class-tracing"},"here",-1),f=n("p",null,"Returns the buffer with trace data.",-1),_=n("h2",{id:"method-browser-version",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#method-browser-version","aria-hidden":"true"},"#"),s(" method: Browser.version")],-1),B=n("ul",null,[n("li",null,"since: v1.8")],-1),C=n("ul",null,[n("li",null,"returns: <[string]>")],-1),j=n("p",null,"Returns the browser version.",-1);function q(P,T){const a=p("ExternalLinkIcon");return c(),i("div",null,[r,n("div",u,[d,n("p",null,[s("This API controls "),n("a",k,[s("Chromium Tracing"),t(a)]),s(" which is a low-level chromium-specific debugging tool. API to control "),w,s(" could be found "),h,s(".")])]),v,n("div",m,[b,n("p",null,[s("This API controls "),n("a",g,[s("Chromium Tracing"),t(a)]),s(" which is a low-level chromium-specific debugging tool. API to control "),y,s(" could be found "),x,s(".")])]),f,_,B,C,j])}const I=o(l,[["render",q],["__file","class-browser.html.vue"]]);export{I as default};
