import{_ as c}from"./plugin-vue_export-helper-c27b6911.js";import{r as e,o as l,c as r,a as s,b as n,d as a,w as p,f as i}from"./app-207e7d61.js";const u={},h=i(`<h1 id="class-snapshotassertions" tabindex="-1"><a class="header-anchor" href="#class-snapshotassertions" aria-hidden="true">#</a> class: SnapshotAssertions</h1><ul><li>since: v1.20</li><li>langs: js</li></ul><p>Playwright provides methods for comparing page and element screenshots with<br> expected values stored in files.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">expect</span><span class="token punctuation">(</span>screenshot<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token string">&#39;landing-page.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="method-snapshotassertions-tomatchsnapshot-1" tabindex="-1"><a class="header-anchor" href="#method-snapshotassertions-tomatchsnapshot-1" aria-hidden="true">#</a> method: SnapshotAssertions.toMatchSnapshot#1</h2><ul><li>since: v1.22</li></ul><p>Ensures that passed value, either a [string] or a [Buffer], matches the expected snapshot stored in the test snapshots directory.</p><p><strong>Usage</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Basic usage.</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">screenshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token string">&#39;landing-page.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Pass options to customize the snapshot comparison and have a generated name.</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">screenshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token string">&#39;landing-page.png&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">maxDiffPixels</span><span class="token operator">:</span> <span class="token number">27</span><span class="token punctuation">,</span> <span class="token comment">// allow no more than 27 different pixels.</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Configure image matching threshold.</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">screenshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token string">&#39;landing-page.png&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">threshold</span><span class="token operator">:</span> <span class="token number">0.3</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Bring some structure to your snapshot files by passing file path segments.</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">screenshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;landing&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;step2.png&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">screenshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;landing&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;step3.png&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,9),d=s("p",null,"Note that matching snapshots only work with Playwright test runner.",-1),k={id:"param-snapshotassertions-tomatchsnapshot-1-name",tabindex:"-1"},m=s("a",{class:"header-anchor",href:"#param-snapshotassertions-tomatchsnapshot-1-name","aria-hidden":"true"},"#",-1),f={href:"http://1.name",target:"_blank",rel:"noopener noreferrer"},v=i(`<ul><li>since: v1.22</li></ul><ul><li><code>name</code> &lt;[string]|[Array]&lt;[string]&gt;&gt;</li></ul><p>Snapshot name.</p><h3 id="option-snapshotassertions-tomatchsnapshot-1-maxdiffpixels-assertions-max-diff-pixels" tabindex="-1"><a class="header-anchor" href="#option-snapshotassertions-tomatchsnapshot-1-maxdiffpixels-assertions-max-diff-pixels" aria-hidden="true">#</a> option: SnapshotAssertions.toMatchSnapshot#1.maxDiffPixels = %%-assertions-max-diff-pixels-%%</h3><ul><li>since: v1.22</li></ul><h3 id="option-snapshotassertions-tomatchsnapshot-1-maxdiffpixelratio-assertions-max-diff-pixel-ratio" tabindex="-1"><a class="header-anchor" href="#option-snapshotassertions-tomatchsnapshot-1-maxdiffpixelratio-assertions-max-diff-pixel-ratio" aria-hidden="true">#</a> option: SnapshotAssertions.toMatchSnapshot#1.maxDiffPixelRatio = %%-assertions-max-diff-pixel-ratio-%%</h3><ul><li>since: v1.22</li></ul><h3 id="option-snapshotassertions-tomatchsnapshot-1-threshold-assertions-threshold" tabindex="-1"><a class="header-anchor" href="#option-snapshotassertions-tomatchsnapshot-1-threshold-assertions-threshold" aria-hidden="true">#</a> option: SnapshotAssertions.toMatchSnapshot#1.threshold = %%-assertions-threshold-%%</h3><ul><li>since: v1.22</li></ul><h2 id="method-snapshotassertions-tomatchsnapshot-2" tabindex="-1"><a class="header-anchor" href="#method-snapshotassertions-tomatchsnapshot-2" aria-hidden="true">#</a> method: SnapshotAssertions.toMatchSnapshot#2</h2><ul><li>since: v1.22</li></ul><p>Ensures that passed value, either a [string] or a [Buffer], matches the expected snapshot stored in the test snapshots directory.</p><p><strong>Usage</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Basic usage and the file name is derived from the test name.</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">screenshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Pass options to customize the snapshot comparison and have a generated name.</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">screenshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">maxDiffPixels</span><span class="token operator">:</span> <span class="token number">27</span><span class="token punctuation">,</span> <span class="token comment">// allow no more than 27 different pixels.</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Configure image matching threshold and snapshot name.</span>
<span class="token function">expect</span><span class="token punctuation">(</span><span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">screenshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatchSnapshot</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;landing-page.png&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">threshold</span><span class="token operator">:</span> <span class="token number">0.3</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,14),g=s("p",null,"Note that matching snapshots only work with Playwright test runner.",-1),x=s("h3",{id:"option-snapshotassertions-tomatchsnapshot-2-maxdiffpixels-assertions-max-diff-pixels",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#option-snapshotassertions-tomatchsnapshot-2-maxdiffpixels-assertions-max-diff-pixels","aria-hidden":"true"},"#"),n(" option: SnapshotAssertions.toMatchSnapshot#2.maxDiffPixels = %%-assertions-max-diff-pixels-%%")],-1),b=s("ul",null,[s("li",null,"since: v1.22")],-1),_=s("h3",{id:"option-snapshotassertions-tomatchsnapshot-2-maxdiffpixelratio-assertions-max-diff-pixel-ratio",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#option-snapshotassertions-tomatchsnapshot-2-maxdiffpixelratio-assertions-max-diff-pixel-ratio","aria-hidden":"true"},"#"),n(" option: SnapshotAssertions.toMatchSnapshot#2.maxDiffPixelRatio = %%-assertions-max-diff-pixel-ratio-%%")],-1),S=s("ul",null,[s("li",null,"since: v1.22")],-1),w={id:"option-snapshotassertions-tomatchsnapshot-2-name",tabindex:"-1"},y=s("a",{class:"header-anchor",href:"#option-snapshotassertions-tomatchsnapshot-2-name","aria-hidden":"true"},"#",-1),M={href:"http://2.name",target:"_blank",rel:"noopener noreferrer"},A=s("ul",null,[s("li",null,"since: v1.22")],-1),P=s("ul",null,[s("li",null,[s("code",null,"name"),n(" <[string]|[Array]<[string]>>")])],-1),j=s("p",null,"Snapshot name. If not passed, the test name and ordinals are used when called multiple times.",-1),B=s("h3",{id:"option-snapshotassertions-tomatchsnapshot-2-threshold-assertions-threshold",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#option-snapshotassertions-tomatchsnapshot-2-threshold-assertions-threshold","aria-hidden":"true"},"#"),n(" option: SnapshotAssertions.toMatchSnapshot#2.threshold = %%-assertions-threshold-%%")],-1),D=s("ul",null,[s("li",null,"since: v1.22")],-1);function L(N,E){const t=e("RouterLink"),o=e("ExternalLinkIcon");return l(),r("div",null,[h,s("p",null,[n("Learn more about "),a(t,{to:"/book/playwright/test-snapshots.html"},{default:p(()=>[n("visual comparisons")]),_:1}),n(".")]),d,s("h3",k,[m,n(" param: SnapshotAssertions.toMatchSnapshot#"),s("a",f,[n("1.name"),a(o)])]),v,s("p",null,[n("Learn more about "),a(t,{to:"/book/playwright/test-snapshots.html"},{default:p(()=>[n("visual comparisons")]),_:1}),n(".")]),g,x,b,_,S,s("h3",w,[y,n(" option: SnapshotAssertions.toMatchSnapshot#"),s("a",M,[n("2.name"),a(o)])]),A,P,j,B,D])}const V=c(u,[["render",L],["__file","class-snapshotassertions.html.vue"]]);export{V as default};
