import{_ as c}from"./plugin-vue_export-helper-c27b6911.js";import{r as p,o as l,c as u,a as s,b as n,d as a,w as e,f as o}from"./app-3f278ba4.js";const r={},d=o(`<h1 id="class-testinfo" tabindex="-1"><a class="header-anchor" href="#class-testinfo" aria-hidden="true">#</a> class: TestInfo</h1><ul><li>since: v1.10</li><li>langs: js</li></ul><p><code>TestInfo</code> contains information about currently running test. It is available to any test function, [<code>method: Test.beforeEach</code>] and [<code>method: Test.afterEach</code>] hooks and test-scoped fixtures. <code>TestInfo</code> provides utilities to control test execution: attach files, update test timeout, determine which test is currently running and whether it was retried, etc.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> test<span class="token punctuation">,</span> expect <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@playwright/test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;basic test&#39;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> page <span class="token punctuation">}</span><span class="token punctuation">,</span> testInfo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>testInfo<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">&#39;basic test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">screenshot</span><span class="token punctuation">(</span>testInfo<span class="token punctuation">.</span><span class="token function">outputPath</span><span class="token punctuation">(</span><span class="token string">&#39;screenshot.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> test<span class="token punctuation">,</span> expect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@playwright/test&#39;</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;basic test&#39;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> page <span class="token punctuation">}</span><span class="token punctuation">,</span> testInfo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>testInfo<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">&#39;basic test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">screenshot</span><span class="token punctuation">(</span>testInfo<span class="token punctuation">.</span><span class="token function">outputPath</span><span class="token punctuation">(</span><span class="token string">&#39;screenshot.png&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="property-testinfo-annotations" tabindex="-1"><a class="header-anchor" href="#property-testinfo-annotations" aria-hidden="true">#</a> property: TestInfo.annotations</h2><ul><li>since: v1.10</li></ul><ul><li>type: &lt;[Array]&lt;[Object]&gt;&gt; <ul><li><code>type</code> &lt;[string]&gt; Annotation type, for example <code>&#39;skip&#39;</code> or <code>&#39;fail&#39;</code>.</li><li><code>description</code> ?&lt;[string]&gt; Optional description.</li></ul></li></ul><p>The list of annotations applicable to the current test. Includes annotations from the test, annotations from all [<code>method: Test.describe#1</code>] groups the test belongs to and file-level annotations for the test file.</p>`,9),k=o(`<h2 id="property-testinfo-attachments" tabindex="-1"><a class="header-anchor" href="#property-testinfo-attachments" aria-hidden="true">#</a> property: TestInfo.attachments</h2><ul><li>since: v1.10</li></ul><ul><li>type: &lt;[Array]&lt;[Object]&gt;&gt; <ul><li><code>name</code> &lt;[string]&gt; Attachment name.</li><li><code>contentType</code> &lt;[string]&gt; Content type of this attachment to properly present in the report, for example <code>&#39;application/json&#39;</code> or <code>&#39;image/png&#39;</code>.</li><li><code>path</code> ?&lt;[string]&gt; Optional path on the filesystem to the attached file.</li><li><code>body</code> ?&lt;[Buffer]&gt; Optional attachment body used instead of a file.</li></ul></li></ul><p>The list of files or buffers attached to the current test. Some reporters show test attachments.</p><p>To add an attachment, use [<code>method: TestInfo.attach</code>] instead of directly pushing onto this array.</p><h2 id="async-method-testinfo-attach" tabindex="-1"><a class="header-anchor" href="#async-method-testinfo-attach" aria-hidden="true">#</a> async method: TestInfo.attach</h2><ul><li>since: v1.10</li></ul><p>Attach a value or a file from disk to the current test. Some reporters show test attachments. Either [<code>option: path</code>] or [<code>option: body</code>] must be specified, but not both.</p><p>For example, you can attach a screenshot to the test:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> test<span class="token punctuation">,</span> expect <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@playwright/test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;basic test&#39;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> page <span class="token punctuation">}</span><span class="token punctuation">,</span> testInfo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">goto</span><span class="token punctuation">(</span><span class="token string">&#39;https://playwright.dev&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> screenshot <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">screenshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> testInfo<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span><span class="token string">&#39;screenshot&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">body</span><span class="token operator">:</span> screenshot<span class="token punctuation">,</span> <span class="token literal-property property">contentType</span><span class="token operator">:</span> <span class="token string">&#39;image/png&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> test<span class="token punctuation">,</span> expect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@playwright/test&#39;</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;basic test&#39;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> page <span class="token punctuation">}</span><span class="token punctuation">,</span> testInfo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">goto</span><span class="token punctuation">(</span><span class="token string">&#39;https://playwright.dev&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> screenshot <span class="token operator">=</span> <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">screenshot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> testInfo<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span><span class="token string">&#39;screenshot&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">body</span><span class="token operator">:</span> screenshot<span class="token punctuation">,</span> <span class="token literal-property property">contentType</span><span class="token operator">:</span> <span class="token string">&#39;image/png&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Or you can attach files returned by your APIs:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> test<span class="token punctuation">,</span> expect <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@playwright/test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;basic test&#39;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> testInfo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> download <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./my-custom-helpers&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> tmpPath <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">download</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> testInfo<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span><span class="token string">&#39;downloaded&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> tmpPath <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> test<span class="token punctuation">,</span> expect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@playwright/test&#39;</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;basic test&#39;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> testInfo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> download <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./my-custom-helpers&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> tmpPath <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">download</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> testInfo<span class="token punctuation">.</span><span class="token function">attach</span><span class="token punctuation">(</span><span class="token string">&#39;downloaded&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> tmpPath <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container note"><p class="hint-container-title">注</p><p>[<code>method: TestInfo.attach</code>] automatically takes care of copying attached files to a<br> location that is accessible to reporters. You can safely remove the attachment<br> after awaiting the attach call.</p></div>`,15),h={id:"param-testinfo-attach-name",tabindex:"-1"},f=s("a",{class:"header-anchor",href:"#param-testinfo-attach-name","aria-hidden":"true"},"#",-1),m={href:"http://TestInfo.attach.name",target:"_blank",rel:"noopener noreferrer"},v=o('<ul><li>since: v1.10</li></ul><ul><li><code>name</code> &lt;[string]&gt;</li></ul><p>Attachment name. The name will also be sanitized and used as the prefix of file name<br> when saving to disk.</p><h3 id="option-testinfo-attach-body" tabindex="-1"><a class="header-anchor" href="#option-testinfo-attach-body" aria-hidden="true">#</a> option: TestInfo.attach.body</h3><ul><li>since: v1.10</li></ul><ul><li><code>body</code> &lt;[string]|[Buffer]&gt;</li></ul><p>Attachment body. Mutually exclusive with [<code>option: path</code>].</p><h3 id="option-testinfo-attach-contenttype" tabindex="-1"><a class="header-anchor" href="#option-testinfo-attach-contenttype" aria-hidden="true">#</a> option: TestInfo.attach.contentType</h3><ul><li>since: v1.10</li></ul><ul><li><code>contentType</code> &lt;[string]&gt;</li></ul><p>Content type of this attachment to properly present in the report, for example <code>&#39;application/json&#39;</code> or <code>&#39;image/png&#39;</code>. If omitted, content type is inferred based on the [<code>option: path</code>], or defaults to <code>text/plain</code> for [string] attachments and <code>application/octet-stream</code> for [Buffer] attachments.</p><h3 id="option-testinfo-attach-path" tabindex="-1"><a class="header-anchor" href="#option-testinfo-attach-path" aria-hidden="true">#</a> option: TestInfo.attach.path</h3><ul><li>since: v1.10</li></ul><ul><li><code>path</code> &lt;[string]&gt;</li></ul><p>Path on the filesystem to the attached file. Mutually exclusive with [<code>option: body</code>].</p><h2 id="property-testinfo-column" tabindex="-1"><a class="header-anchor" href="#property-testinfo-column" aria-hidden="true">#</a> property: TestInfo.column</h2><ul><li>since: v1.10</li></ul><ul><li>type: &lt;[int]&gt;</li></ul><p>Column number where the currently running test is declared.</p><h2 id="property-testinfo-config" tabindex="-1"><a class="header-anchor" href="#property-testinfo-config" aria-hidden="true">#</a> property: TestInfo.config</h2><ul><li>since: v1.10</li></ul><ul><li>type: &lt;[TestConfig]&gt;</li></ul>',22),g=o(`<h2 id="property-testinfo-duration" tabindex="-1"><a class="header-anchor" href="#property-testinfo-duration" aria-hidden="true">#</a> property: TestInfo.duration</h2><ul><li>since: v1.10</li></ul><ul><li>type: &lt;[int]&gt;</li></ul><p>The number of milliseconds the test took to finish. Always zero before the test finishes, either successfully or not. Can be used in [<code>method: Test.afterEach</code>] hook.</p><h2 id="property-testinfo-error" tabindex="-1"><a class="header-anchor" href="#property-testinfo-error" aria-hidden="true">#</a> property: TestInfo.error</h2><ul><li>since: v1.10</li></ul><ul><li>type: ?&lt;[TestInfoError]&gt;</li></ul><p>First error thrown during test execution, if any. This is equal to the first<br> element in [<code>property: TestInfo.errors</code>].</p><h2 id="property-testinfo-errors" tabindex="-1"><a class="header-anchor" href="#property-testinfo-errors" aria-hidden="true">#</a> property: TestInfo.errors</h2><ul><li>since: v1.10</li></ul><ul><li>type: &lt;[Array]&lt;[TestInfoError]&gt;&gt;</li></ul><p>Errors thrown during test execution, if any.</p><h2 id="property-testinfo-expectedstatus" tabindex="-1"><a class="header-anchor" href="#property-testinfo-expectedstatus" aria-hidden="true">#</a> property: TestInfo.expectedStatus</h2><ul><li>since: v1.10</li></ul><ul><li>type: &lt;[TestStatus]&lt;&quot;passed&quot;|&quot;failed&quot;|&quot;timedOut&quot;|&quot;skipped&quot;|&quot;interrupted&quot;&gt;&gt;</li></ul><p>Expected status for the currently running test. This is usually <code>&#39;passed&#39;</code>, except for a few cases:</p><ul><li><code>&#39;skipped&#39;</code> for skipped tests, e.g. with [<code>method: Test.skip#2</code>];</li><li><code>&#39;failed&#39;</code> for tests marked as failed with [<code>method: Test.fail#1</code>].</li></ul><p>Expected status is usually compared with the actual [<code>property: TestInfo.status</code>]:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> test<span class="token punctuation">,</span> expect <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@playwright/test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

test<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> testInfo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>testInfo<span class="token punctuation">.</span>status <span class="token operator">!==</span> testInfo<span class="token punctuation">.</span>expectedStatus<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>testInfo<span class="token punctuation">.</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> did not run as expected!</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> test<span class="token punctuation">,</span> expect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@playwright/test&#39;</span><span class="token punctuation">;</span>

test<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> testInfo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>testInfo<span class="token punctuation">.</span>status <span class="token operator">!==</span> testInfo<span class="token punctuation">.</span>expectedStatus<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>testInfo<span class="token punctuation">.</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> did not run as expected!</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="method-testinfo-fail-1" tabindex="-1"><a class="header-anchor" href="#method-testinfo-fail-1" aria-hidden="true">#</a> method: TestInfo.fail#1</h2><ul><li>since: v1.10</li></ul><p>Marks the currently running test as &quot;should fail&quot;. Playwright Test runs this test and ensures that it is actually failing. This is useful for documentation purposes to acknowledge that some functionality is broken until it is fixed. This is similar to [<code>method: Test.fail#1</code>].</p><h2 id="method-testinfo-fail-2" tabindex="-1"><a class="header-anchor" href="#method-testinfo-fail-2" aria-hidden="true">#</a> method: TestInfo.fail#2</h2><ul><li>since: v1.10</li></ul><p>Conditionally mark the currently running test as &quot;should fail&quot; with an optional description. This is similar to [<code>method: Test.fail#2</code>].</p><h3 id="param-testinfo-fail-2-condition" tabindex="-1"><a class="header-anchor" href="#param-testinfo-fail-2-condition" aria-hidden="true">#</a> param: TestInfo.fail#2.condition</h3><ul><li>since: v1.10</li></ul><ul><li><code>condition</code> &lt;[boolean]&gt;</li></ul><p>Test is marked as &quot;should fail&quot; when the condition is <code>true</code>.</p><h3 id="param-testinfo-fail-2-description" tabindex="-1"><a class="header-anchor" href="#param-testinfo-fail-2-description" aria-hidden="true">#</a> param: TestInfo.fail#2.description</h3><ul><li>since: v1.10</li></ul><ul><li><code>description</code> ?&lt;[string]&gt;</li></ul><p>Optional description that will be reflected in a test report.</p><h2 id="property-testinfo-file" tabindex="-1"><a class="header-anchor" href="#property-testinfo-file" aria-hidden="true">#</a> property: TestInfo.file</h2><ul><li>since: v1.10</li></ul><ul><li>type: &lt;[string]&gt;</li></ul><p>Absolute path to a file where the currently running test is declared.</p><h2 id="method-testinfo-fixme-1" tabindex="-1"><a class="header-anchor" href="#method-testinfo-fixme-1" aria-hidden="true">#</a> method: TestInfo.fixme#1</h2><ul><li>since: v1.10</li></ul><p>Mark a test as &quot;fixme&quot;, with the intention to fix it. Test is immediately aborted. This is similar to [<code>method: Test.fixme#2</code>].</p><h2 id="method-testinfo-fixme-2" tabindex="-1"><a class="header-anchor" href="#method-testinfo-fixme-2" aria-hidden="true">#</a> method: TestInfo.fixme#2</h2><ul><li>since: v1.10</li></ul><p>Conditionally mark the currently running test as &quot;fixme&quot; with an optional description. This is similar to [<code>method: Test.fixme#3</code>].</p><h3 id="param-testinfo-fixme-2-condition" tabindex="-1"><a class="header-anchor" href="#param-testinfo-fixme-2-condition" aria-hidden="true">#</a> param: TestInfo.fixme#2.condition</h3><ul><li>since: v1.10</li></ul><ul><li><code>condition</code> &lt;[boolean]&gt;</li></ul><p>Test is marked as &quot;fixme&quot; when the condition is <code>true</code>.</p><h3 id="param-testinfo-fixme-2-description" tabindex="-1"><a class="header-anchor" href="#param-testinfo-fixme-2-description" aria-hidden="true">#</a> param: TestInfo.fixme#2.description</h3><ul><li>since: v1.10</li></ul><ul><li><code>description</code> ?&lt;[string]&gt;</li></ul><p>Optional description that will be reflected in a test report.</p><h2 id="property-testinfo-fn" tabindex="-1"><a class="header-anchor" href="#property-testinfo-fn" aria-hidden="true">#</a> property: TestInfo.fn</h2><ul><li>since: v1.10</li></ul><ul><li>type: &lt;[function]&gt;</li></ul><p>Test function as passed to <code>test(title, testFunction)</code>.</p><h2 id="property-testinfo-line" tabindex="-1"><a class="header-anchor" href="#property-testinfo-line" aria-hidden="true">#</a> property: TestInfo.line</h2><ul><li>since: v1.10</li></ul><ul><li>type: &lt;[int]&gt;</li></ul><p>Line number where the currently running test is declared.</p><h2 id="property-testinfo-snapshotdir" tabindex="-1"><a class="header-anchor" href="#property-testinfo-snapshotdir" aria-hidden="true">#</a> property: TestInfo.snapshotDir</h2><ul><li>since: v1.10</li></ul><ul><li>type: &lt;[string]&gt;</li></ul><p>Absolute path to the snapshot output directory for this specific test. Each test suite gets its own directory so they cannot conflict.</p><p>This property does not account for the [<code>property: TestProject.snapshotPathTemplate</code>] configuration.</p><h2 id="property-testinfo-outputdir" tabindex="-1"><a class="header-anchor" href="#property-testinfo-outputdir" aria-hidden="true">#</a> property: TestInfo.outputDir</h2><ul><li>since: v1.10</li></ul><ul><li>type: &lt;[string]&gt;</li></ul><p>Absolute path to the output directory for this specific test run. Each test run gets its own directory so they cannot conflict.</p><h2 id="method-testinfo-outputpath" tabindex="-1"><a class="header-anchor" href="#method-testinfo-outputpath" aria-hidden="true">#</a> method: TestInfo.outputPath</h2><ul><li>since: v1.10</li></ul><ul><li>returns: &lt;[string]&gt;</li></ul><p>Returns a path inside the [<code>property: TestInfo.outputDir</code>] where the test can safely put a temporary file. Guarantees that tests running in parallel will not interfere with each other.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> test<span class="token punctuation">,</span> expect <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@playwright/test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;example test&#39;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> testInfo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> file <span class="token operator">=</span> testInfo<span class="token punctuation">.</span><span class="token function">outputPath</span><span class="token punctuation">(</span><span class="token string">&#39;dir&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;temporary-file.txt&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> fs<span class="token punctuation">.</span>promises<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> <span class="token string">&#39;Put some data to the dir/temporary-file.txt&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;utf8&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> test<span class="token punctuation">,</span> expect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@playwright/test&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> fs <span class="token keyword">from</span> <span class="token string">&#39;fs&#39;</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;example test&#39;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> testInfo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> file <span class="token operator">=</span> testInfo<span class="token punctuation">.</span><span class="token function">outputPath</span><span class="token punctuation">(</span><span class="token string">&#39;dir&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;temporary-file.txt&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> fs<span class="token punctuation">.</span>promises<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span> <span class="token string">&#39;Put some data to the dir/temporary-file.txt&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;utf8&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>Note that <code>pathSegments</code> accepts path segments to the test output directory such as <code>testInfo.outputPath(&#39;relative&#39;, &#39;path&#39;, &#39;to&#39;, &#39;output&#39;)</code>.<br> However, this path must stay within the [<code>property: TestInfo.outputDir</code>] directory for each test (i.e. <code>test-results/a-test-title</code>), otherwise it will throw.</p></blockquote><h3 id="param-testinfo-outputpath-pathsegments" tabindex="-1"><a class="header-anchor" href="#param-testinfo-outputpath-pathsegments" aria-hidden="true">#</a> param: TestInfo.outputPath.pathSegments</h3><ul><li>since: v1.10</li></ul><ul><li><code>...pathSegments</code> &lt;[Array]&lt;[string]&gt;&gt;</li></ul><p>Path segments to append at the end of the resulting path.</p><h2 id="property-testinfo-parallelindex" tabindex="-1"><a class="header-anchor" href="#property-testinfo-parallelindex" aria-hidden="true">#</a> property: TestInfo.parallelIndex</h2><ul><li>since: v1.10</li></ul><ul><li>type: &lt;[int]&gt;</li></ul><p>The index of the worker between <code>0</code> and <code>workers - 1</code>. It is guaranteed that workers running at the same time have a different <code>parallelIndex</code>. When a worker is restarted, for example after a failure, the new worker process has the same <code>parallelIndex</code>.</p>`,84),y=s("code",null,[n("p"),s("wbr"),n("rocess.env.TEST_PARALLEL_INDEX")],-1),b=s("h2",{id:"property-testinfo-project",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#property-testinfo-project","aria-hidden":"true"},"#"),n(" property: TestInfo.project")],-1),w=s("ul",null,[s("li",null,"since: v1.10")],-1),x=s("ul",null,[s("li",null,"type: <[TestProject]>")],-1),T=s("h2",{id:"property-testinfo-repeateachindex",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#property-testinfo-repeateachindex","aria-hidden":"true"},"#"),n(" property: TestInfo.repeatEachIndex")],-1),I=s("ul",null,[s("li",null,"since: v1.10")],-1),_=s("ul",null,[s("li",null,"type: <[int]>")],-1),j=s("code",null,"--repeat-each",-1),q=s("h2",{id:"property-testinfo-retry",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#property-testinfo-retry","aria-hidden":"true"},"#"),n(" property: TestInfo.retry")],-1),E=s("ul",null,[s("li",null,"since: v1.10")],-1),S=s("ul",null,[s("li",null,"type: <[int]>")],-1),P=s("code",null,"property: TestInfo.retry",-1),A=o(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> test<span class="token punctuation">,</span> expect <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@playwright/test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

test<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> testInfo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// You can access testInfo.retry in any hook or fixture.</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>testInfo<span class="token punctuation">.</span>retry <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Retrying!</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;my test&#39;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> page <span class="token punctuation">}</span><span class="token punctuation">,</span> testInfo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Here we clear some server-side state when retrying.</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>testInfo<span class="token punctuation">.</span>retry<span class="token punctuation">)</span>
    <span class="token keyword">await</span> <span class="token function">cleanSomeCachesOnTheServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> test<span class="token punctuation">,</span> expect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@playwright/test&#39;</span><span class="token punctuation">;</span>

test<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> testInfo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// You can access testInfo.retry in any hook or fixture.</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>testInfo<span class="token punctuation">.</span>retry <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Retrying!</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;my test&#39;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> page <span class="token punctuation">}</span><span class="token punctuation">,</span> testInfo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Here we clear some server-side state when retrying.</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>testInfo<span class="token punctuation">.</span>retry<span class="token punctuation">)</span>
    <span class="token keyword">await</span> <span class="token function">cleanSomeCachesOnTheServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="method-testinfo-settimeout" tabindex="-1"><a class="header-anchor" href="#method-testinfo-settimeout" aria-hidden="true">#</a> method: TestInfo.setTimeout</h2><ul><li>since: v1.10</li></ul>`,4),O=o(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> test<span class="token punctuation">,</span> expect <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@playwright/test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

test<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> page <span class="token punctuation">}</span><span class="token punctuation">,</span> testInfo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Extend timeout for all tests running this hook by 30 seconds.</span>
  testInfo<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span>testInfo<span class="token punctuation">.</span>timeout <span class="token operator">+</span> <span class="token number">30000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> test<span class="token punctuation">,</span> expect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@playwright/test&#39;</span><span class="token punctuation">;</span>

test<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> page <span class="token punctuation">}</span><span class="token punctuation">,</span> testInfo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Extend timeout for all tests running this hook by 30 seconds.</span>
  testInfo<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span>testInfo<span class="token punctuation">.</span>timeout <span class="token operator">+</span> <span class="token number">30000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="param-testinfo-settimeout-timeout" tabindex="-1"><a class="header-anchor" href="#param-testinfo-settimeout-timeout" aria-hidden="true">#</a> param: TestInfo.setTimeout.timeout</h3><ul><li>since: v1.10</li></ul><ul><li><code>timeout</code> &lt;[int]&gt;</li></ul><p>Timeout in milliseconds.</p><h2 id="method-testinfo-skip-1" tabindex="-1"><a class="header-anchor" href="#method-testinfo-skip-1" aria-hidden="true">#</a> method: TestInfo.skip#1</h2><ul><li>since: v1.10</li></ul><p>Unconditionally skip the currently running test. Test is immediately aborted. This is similar to [<code>method: Test.skip#2</code>].</p><h2 id="method-testinfo-skip-2" tabindex="-1"><a class="header-anchor" href="#method-testinfo-skip-2" aria-hidden="true">#</a> method: TestInfo.skip#2</h2><ul><li>since: v1.10</li></ul><p>Conditionally skips the currently running test with an optional description. This is similar to [<code>method: Test.skip#3</code>].</p><h3 id="param-testinfo-skip-2-condition" tabindex="-1"><a class="header-anchor" href="#param-testinfo-skip-2-condition" aria-hidden="true">#</a> param: TestInfo.skip#2.condition</h3><ul><li>since: v1.10</li></ul><ul><li><code>condition</code> &lt;[boolean]&gt;</li></ul><p>A skip condition. Test is skipped when the condition is <code>true</code>.</p><h3 id="param-testinfo-skip-2-description" tabindex="-1"><a class="header-anchor" href="#param-testinfo-skip-2-description" aria-hidden="true">#</a> param: TestInfo.skip#2.description</h3><ul><li>since: v1.10</li></ul><ul><li><code>description</code> ?&lt;[string]&gt;</li></ul><p>Optional description that will be reflected in a test report.</p><h2 id="method-testinfo-slow-1" tabindex="-1"><a class="header-anchor" href="#method-testinfo-slow-1" aria-hidden="true">#</a> method: TestInfo.slow#1</h2><ul><li>since: v1.10</li></ul><p>Marks the currently running test as &quot;slow&quot;, giving it triple the default timeout. This is similar to [<code>method: Test.slow#1</code>].</p><h2 id="method-testinfo-slow-2" tabindex="-1"><a class="header-anchor" href="#method-testinfo-slow-2" aria-hidden="true">#</a> method: TestInfo.slow#2</h2><ul><li>since: v1.10</li></ul><p>Conditionally mark the currently running test as &quot;slow&quot; with an optional description, giving it triple the default timeout. This is similar to [<code>method: Test.slow#2</code>].</p><h3 id="param-testinfo-slow-2-condition" tabindex="-1"><a class="header-anchor" href="#param-testinfo-slow-2-condition" aria-hidden="true">#</a> param: TestInfo.slow#2.condition</h3><ul><li>since: v1.10</li></ul><ul><li><code>condition</code> &lt;[boolean]&gt;</li></ul><p>Test is marked as &quot;slow&quot; when the condition is <code>true</code>.</p><h3 id="param-testinfo-slow-2-description" tabindex="-1"><a class="header-anchor" href="#param-testinfo-slow-2-description" aria-hidden="true">#</a> param: TestInfo.slow#2.description</h3><ul><li>since: v1.10</li></ul><ul><li><code>description</code> ?&lt;[string]&gt;</li></ul><p>Optional description that will be reflected in a test report.</p><h2 id="method-testinfo-snapshotpath" tabindex="-1"><a class="header-anchor" href="#method-testinfo-snapshotpath" aria-hidden="true">#</a> method: TestInfo.snapshotPath</h2><ul><li>since: v1.10</li></ul><ul><li>returns: &lt;[string]&gt;</li></ul>`,37),L=s("code",null,"pathSegments",-1),C=o('<blockquote><p>Note that <code>pathSegments</code> accepts path segments to the snapshot file such as <code>testInfo.snapshotPath(&#39;relative&#39;, &#39;path&#39;, &#39;to&#39;, &#39;snapshot.png&#39;)</code>.<br> However, this path must stay within the snapshots directory for each test file (i.e. <code>a.spec.js-snapshots</code>), otherwise it will throw.</p></blockquote><h3 id="param-testinfo-snapshotpath-pathsegments" tabindex="-1"><a class="header-anchor" href="#param-testinfo-snapshotpath-pathsegments" aria-hidden="true">#</a> param: TestInfo.snapshotPath.pathSegments</h3><ul><li>since: v1.10</li></ul><ul><li><code>...pathSegments</code> &lt;[Array]&lt;[string]&gt;&gt;</li></ul><p>The name of the snapshot or the path segments to define the snapshot file path. Snapshots with the same name in the same test file are expected to be the same.</p><h2 id="property-testinfo-snapshotsuffix" tabindex="-1"><a class="header-anchor" href="#property-testinfo-snapshotsuffix" aria-hidden="true">#</a> property: TestInfo.snapshotSuffix</h2><ul><li>since: v1.10</li></ul><ul><li>type: &lt;[string]&gt;</li></ul><div class="hint-container note"><p class="hint-container-title">注</p><p>Use of [<code>property: TestInfo.snapshotSuffix</code>] is discouraged. Please use [<code>property: TestConfig.snapshotPathTemplate</code>] to configure<br> snapshot paths.</p></div>',9),B=s("code",null,"testInfo.snapshotSuffix",-1),N=s("code",null,"process.platform",-1),R=s("code",null,"expect(value).toMatchSnapshot(snapshotName)",-1),F=o(`<h2 id="property-testinfo-status" tabindex="-1"><a class="header-anchor" href="#property-testinfo-status" aria-hidden="true">#</a> property: TestInfo.status</h2><ul><li>since: v1.10</li></ul><ul><li>type: ?&lt;[TestStatus]&lt;&quot;passed&quot;|&quot;failed&quot;|&quot;timedOut&quot;|&quot;skipped&quot;|&quot;interrupted&quot;&gt;&gt;</li></ul><p>Actual status for the currently running test. Available after the test has finished in [<code>method: Test.afterEach</code>] hook and fixtures.</p><p>Status is usually compared with the [<code>property: TestInfo.expectedStatus</code>]:</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> test<span class="token punctuation">,</span> expect <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@playwright/test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

test<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> testInfo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>testInfo<span class="token punctuation">.</span>status <span class="token operator">!==</span> testInfo<span class="token punctuation">.</span>expectedStatus<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>testInfo<span class="token punctuation">.</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> did not run as expected!</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> test<span class="token punctuation">,</span> expect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@playwright/test&#39;</span><span class="token punctuation">;</span>

test<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> testInfo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>testInfo<span class="token punctuation">.</span>status <span class="token operator">!==</span> testInfo<span class="token punctuation">.</span>expectedStatus<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>testInfo<span class="token punctuation">.</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> did not run as expected!</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="property-testinfo-stderr" tabindex="-1"><a class="header-anchor" href="#property-testinfo-stderr" aria-hidden="true">#</a> property: TestInfo.stderr</h2><ul><li>since: v1.10</li></ul><ul><li>type: &lt;[Array]&lt;[string]|[Buffer]&gt;&gt;</li></ul><p>Output written to <code>process.stderr</code> or <code>console.error</code> during the test execution.</p><h2 id="property-testinfo-stdout" tabindex="-1"><a class="header-anchor" href="#property-testinfo-stdout" aria-hidden="true">#</a> property: TestInfo.stdout</h2><ul><li>since: v1.10</li></ul><ul><li>type: &lt;[Array]&lt;[string]|[Buffer]&gt;&gt;</li></ul><p>Output written to <code>process.stdout</code> or <code>console.log</code> during the test execution.</p><h2 id="property-testinfo-timeout" tabindex="-1"><a class="header-anchor" href="#property-testinfo-timeout" aria-hidden="true">#</a> property: TestInfo.timeout</h2><ul><li>since: v1.10</li></ul><ul><li>type: &lt;[int]&gt;</li></ul>`,18),D=o(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> test<span class="token punctuation">,</span> expect <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@playwright/test&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

test<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> page <span class="token punctuation">}</span><span class="token punctuation">,</span> testInfo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Extend timeout for all tests running this hook by 30 seconds.</span>
  testInfo<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span>testInfo<span class="token punctuation">.</span>timeout <span class="token operator">+</span> <span class="token number">30000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> test<span class="token punctuation">,</span> expect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@playwright/test&#39;</span><span class="token punctuation">;</span>

test<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> page <span class="token punctuation">}</span><span class="token punctuation">,</span> testInfo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Extend timeout for all tests running this hook by 30 seconds.</span>
  testInfo<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span>testInfo<span class="token punctuation">.</span>timeout <span class="token operator">+</span> <span class="token number">30000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="property-testinfo-title" tabindex="-1"><a class="header-anchor" href="#property-testinfo-title" aria-hidden="true">#</a> property: TestInfo.title</h2><ul><li>since: v1.10</li></ul><ul><li>type: &lt;[string]&gt;</li></ul><p>The title of the currently running test as passed to <code>test(title, testFunction)</code>.</p><h2 id="property-testinfo-titlepath" tabindex="-1"><a class="header-anchor" href="#property-testinfo-titlepath" aria-hidden="true">#</a> property: TestInfo.titlePath</h2><ul><li>since: v1.10</li></ul><ul><li>type: &lt;[Array]&lt;[string]&gt;&gt;</li></ul><p>The full title path starting with the project.</p><h2 id="property-testinfo-workerindex" tabindex="-1"><a class="header-anchor" href="#property-testinfo-workerindex" aria-hidden="true">#</a> property: TestInfo.workerIndex</h2><ul><li>since: v1.10</li></ul><ul><li>type: &lt;[int]&gt;</li></ul><p>The unique index of the worker process that is running the test. When a worker is restarted, for example after a failure, the new worker process gets a new unique <code>workerIndex</code>.</p>`,14),M=s("code",null,[n("p"),s("wbr"),n("rocess.env.TEST_WORKER_INDEX")],-1);function H(V,$){const t=p("RouterLink"),i=p("ExternalLinkIcon");return l(),u("div",null,[d,s("p",null,[n("Learn more about "),a(t,{to:"/book/playwright/test-annotations.html"},{default:e(()=>[n("test annotations")]),_:1}),n(".")]),k,s("h3",h,[f,n(" param: "),s("a",m,[n("TestInfo.attach.name"),a(i)])]),v,s("p",null,[n("Processed configuration from the "),a(t,{to:"/book/playwright/test-configuration.html"},{default:e(()=>[n("configuration file")]),_:1}),n(".")]),g,s("p",null,[n("Also available as "),y,n(". Learn more about "),a(t,{to:"/book/playwright/test-parallel.html"},{default:e(()=>[n("parallelism and sharding")]),_:1}),n(" with Playwright Test.")]),b,w,x,s("p",null,[n("Processed project configuration from the "),a(t,{to:"/book/playwright/test-configuration.html"},{default:e(()=>[n("configuration file")]),_:1}),n(".")]),T,I,_,s("p",null,[n('Specifies a unique repeat index when running in "repeat each" mode. This mode is enabled by passing '),j,n(" to the "),a(t,{to:"/book/playwright/test-cli.html"},{default:e(()=>[n("command line")]),_:1}),n(".")]),q,E,S,s("p",null,[n("Specifies the retry number when the test is retried after a failure. The first test run has ["),P,n("] equal to zero, the first retry has it equal to one, and so on. Learn more about "),a(t,{to:"/book/playwright/test-retries.html#retries"},{default:e(()=>[n("retries")]),_:1}),n(".")]),A,s("p",null,[n("Changes the timeout for the currently running test. Zero means no timeout. Learn more about "),a(t,{to:"/book/playwright/test-timeouts.html"},{default:e(()=>[n("various timeouts")]),_:1}),n(".")]),s("p",null,[n("Timeout is usually specified in the "),a(t,{to:"/book/playwright/test-configuration.html"},{default:e(()=>[n("configuration file")]),_:1}),n(", but it could be useful to change the timeout in certain scenarios:")]),O,s("p",null,[n("Returns a path to a snapshot file with the given "),L,n(". Learn more about "),a(t,{to:"/book/playwright/test-snapshots.html"},{default:e(()=>[n("snapshots")]),_:1}),n(".")]),C,s("p",null,[n("Suffix used to differentiate snapshots between multiple test configurations. For example, if snapshots depend on the platform, you can set "),B,n(" equal to "),N,n(". In this case "),R,n(" will use different snapshots depending on the platform. Learn more about "),a(t,{to:"/book/playwright/test-snapshots.html"},{default:e(()=>[n("snapshots")]),_:1}),n(".")]),F,s("p",null,[n("Timeout in milliseconds for the currently running test. Zero means no timeout. Learn more about "),a(t,{to:"/book/playwright/test-timeouts.html"},{default:e(()=>[n("various timeouts")]),_:1}),n(".")]),s("p",null,[n("Timeout is usually specified in the "),a(t,{to:"/book/playwright/test-configuration.html"},{default:e(()=>[n("configuration file")]),_:1})]),D,s("p",null,[n("Also available as "),M,n(". Learn more about "),a(t,{to:"/book/playwright/test-parallel.html"},{default:e(()=>[n("parallelism and sharding")]),_:1}),n(" with Playwright Test.")])])}const Y=c(r,[["render",H],["__file","class-testinfo.html.vue"]]);export{Y as default};
