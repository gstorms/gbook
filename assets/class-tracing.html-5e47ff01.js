import{_ as c}from"./plugin-vue_export-helper-c27b6911.js";import{r as a,o as i,c as u,a as n,b as s,d as t,w as l,f as p}from"./app-207e7d61.js";const r={},k=n("h1",{id:"class-tracing",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#class-tracing","aria-hidden":"true"},"#"),s(" class: Tracing")],-1),d=n("ul",null,[n("li",null,"since: v1.12")],-1),v=p(`<p>Start recording a trace before performing actions. At the end, stop tracing and save it to a file.</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> browser <span class="token operator">=</span> <span class="token keyword">await</span> chromium<span class="token punctuation">.</span><span class="token function">launch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> context <span class="token operator">=</span> <span class="token keyword">await</span> browser<span class="token punctuation">.</span><span class="token function">newContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> context<span class="token punctuation">.</span>tracing<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">screenshots</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">snapshots</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> context<span class="token punctuation">.</span><span class="token function">newPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">goto</span><span class="token punctuation">(</span><span class="token string">&#39;https://playwright.dev&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> context<span class="token punctuation">.</span>tracing<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;trace.zip&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Browser</span> browser <span class="token operator">=</span> chromium<span class="token punctuation">.</span><span class="token function">launch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">BrowserContext</span> context <span class="token operator">=</span> browser<span class="token punctuation">.</span><span class="token function">newContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
context<span class="token punctuation">.</span><span class="token function">tracing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Tracing<span class="token punctuation">.</span>StartOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">setScreenshots</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">setSnapshots</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Page</span> page <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">newPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
page<span class="token punctuation">.</span><span class="token function">navigate</span><span class="token punctuation">(</span><span class="token string">&quot;https://playwright.dev&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
context<span class="token punctuation">.</span><span class="token function">tracing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Tracing<span class="token punctuation">.</span>StopOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">setPath</span><span class="token punctuation">(</span><span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;trace.zip&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>browser <span class="token operator">=</span> <span class="token keyword">await</span> chromium<span class="token punctuation">.</span>launch<span class="token punctuation">(</span><span class="token punctuation">)</span>
context <span class="token operator">=</span> <span class="token keyword">await</span> browser<span class="token punctuation">.</span>new_context<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">await</span> context<span class="token punctuation">.</span>tracing<span class="token punctuation">.</span>start<span class="token punctuation">(</span>screenshots<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> snapshots<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
page <span class="token operator">=</span> <span class="token keyword">await</span> context<span class="token punctuation">.</span>new_page<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span>goto<span class="token punctuation">(</span><span class="token string">&quot;https://playwright.dev&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">await</span> context<span class="token punctuation">.</span>tracing<span class="token punctuation">.</span>stop<span class="token punctuation">(</span>path <span class="token operator">=</span> <span class="token string">&quot;trace.zip&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>browser <span class="token operator">=</span> chromium<span class="token punctuation">.</span>launch<span class="token punctuation">(</span><span class="token punctuation">)</span>
context <span class="token operator">=</span> browser<span class="token punctuation">.</span>new_context<span class="token punctuation">(</span><span class="token punctuation">)</span>
context<span class="token punctuation">.</span>tracing<span class="token punctuation">.</span>start<span class="token punctuation">(</span>screenshots<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> snapshots<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
page <span class="token operator">=</span> context<span class="token punctuation">.</span>new_page<span class="token punctuation">(</span><span class="token punctuation">)</span>
page<span class="token punctuation">.</span>goto<span class="token punctuation">(</span><span class="token string">&quot;https://playwright.dev&quot;</span><span class="token punctuation">)</span>
context<span class="token punctuation">.</span>tracing<span class="token punctuation">.</span>stop<span class="token punctuation">(</span>path <span class="token operator">=</span> <span class="token string">&quot;trace.zip&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">await</span> <span class="token keyword">using</span> <span class="token class-name"><span class="token keyword">var</span></span> browser <span class="token operator">=</span> playwright<span class="token punctuation">.</span>Chromium<span class="token punctuation">.</span><span class="token function">LaunchAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> <span class="token keyword">using</span> <span class="token class-name"><span class="token keyword">var</span></span> context <span class="token operator">=</span> <span class="token keyword">await</span> browser<span class="token punctuation">.</span><span class="token function">NewContextAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> context<span class="token punctuation">.</span>Tracing<span class="token punctuation">.</span><span class="token function">StartAsync</span><span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  Screenshots<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token named-parameter punctuation">Snapshots</span><span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> page <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">NewPageAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">GotoAsync</span><span class="token punctuation">(</span><span class="token string">&quot;https://playwright.dev&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> context<span class="token punctuation">.</span>Tracing<span class="token punctuation">.</span><span class="token function">StopAsync</span><span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  Path<span class="token punctuation">:</span> <span class="token string">&quot;trace.zip&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="async-method-tracing-start" tabindex="-1"><a class="header-anchor" href="#async-method-tracing-start" aria-hidden="true">#</a> async method: Tracing.start</h2><ul><li>since: v1.12</li></ul><p>Start tracing.</p><p><strong>Usage</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">await</span> context<span class="token punctuation">.</span>tracing<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">screenshots</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">snapshots</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> context<span class="token punctuation">.</span><span class="token function">newPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">goto</span><span class="token punctuation">(</span><span class="token string">&#39;https://playwright.dev&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> context<span class="token punctuation">.</span>tracing<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;trace.zip&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>context<span class="token punctuation">.</span><span class="token function">tracing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Tracing<span class="token punctuation">.</span>StartOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">setScreenshots</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">setSnapshots</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Page</span> page <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">newPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
page<span class="token punctuation">.</span><span class="token function">navigate</span><span class="token punctuation">(</span><span class="token string">&quot;https://playwright.dev&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
context<span class="token punctuation">.</span><span class="token function">tracing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Tracing<span class="token punctuation">.</span>StopOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">setPath</span><span class="token punctuation">(</span><span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;trace.zip&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">await</span> context<span class="token punctuation">.</span>tracing<span class="token punctuation">.</span>start<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;trace&quot;</span><span class="token punctuation">,</span> screenshots<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> snapshots<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
page <span class="token operator">=</span> <span class="token keyword">await</span> context<span class="token punctuation">.</span>new_page<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span>goto<span class="token punctuation">(</span><span class="token string">&quot;https://playwright.dev&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">await</span> context<span class="token punctuation">.</span>tracing<span class="token punctuation">.</span>stop<span class="token punctuation">(</span>path <span class="token operator">=</span> <span class="token string">&quot;trace.zip&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>context<span class="token punctuation">.</span>tracing<span class="token punctuation">.</span>start<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;trace&quot;</span><span class="token punctuation">,</span> screenshots<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> snapshots<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
page <span class="token operator">=</span> context<span class="token punctuation">.</span>new_page<span class="token punctuation">(</span><span class="token punctuation">)</span>
page<span class="token punctuation">.</span>goto<span class="token punctuation">(</span><span class="token string">&quot;https://playwright.dev&quot;</span><span class="token punctuation">)</span>
context<span class="token punctuation">.</span>tracing<span class="token punctuation">.</span>stop<span class="token punctuation">(</span>path <span class="token operator">=</span> <span class="token string">&quot;trace.zip&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">await</span> <span class="token keyword">using</span> <span class="token class-name"><span class="token keyword">var</span></span> browser <span class="token operator">=</span> playwright<span class="token punctuation">.</span>Chromium<span class="token punctuation">.</span><span class="token function">LaunchAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> <span class="token keyword">using</span> <span class="token class-name"><span class="token keyword">var</span></span> context <span class="token operator">=</span> <span class="token keyword">await</span> browser<span class="token punctuation">.</span><span class="token function">NewContextAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> context<span class="token punctuation">.</span>Tracing<span class="token punctuation">.</span><span class="token function">StartAsync</span><span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  Screenshots<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token named-parameter punctuation">Snapshots</span><span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> page <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">NewPageAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">GotoAsync</span><span class="token punctuation">(</span><span class="token string">&quot;https://playwright.dev&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> context<span class="token punctuation">.</span>Tracing<span class="token punctuation">.</span><span class="token function">StopAsync</span><span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  Path<span class="token punctuation">:</span> <span class="token string">&quot;trace.zip&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,15),h={id:"option-tracing-start-name",tabindex:"-1"},g=n("a",{class:"header-anchor",href:"#option-tracing-start-name","aria-hidden":"true"},"#",-1),m={href:"http://Tracing.start.name",target:"_blank",rel:"noopener noreferrer"},b=p(`<ul><li>since: v1.12</li></ul><ul><li><code>name</code> &lt;[string]&gt;</li></ul><p>If specified, the trace is going to be saved into the file with the<br> given name inside the [<code>option: tracesDir</code>] folder specified in [<code>method: BrowserType.launch</code>].</p><h3 id="option-tracing-start-screenshots" tabindex="-1"><a class="header-anchor" href="#option-tracing-start-screenshots" aria-hidden="true">#</a> option: Tracing.start.screenshots</h3><ul><li>since: v1.12</li></ul><ul><li><code>screenshots</code> &lt;[boolean]&gt;</li></ul><p>Whether to capture screenshots during tracing. Screenshots are used to build<br> a timeline preview.</p><h3 id="option-tracing-start-snapshots" tabindex="-1"><a class="header-anchor" href="#option-tracing-start-snapshots" aria-hidden="true">#</a> option: Tracing.start.snapshots</h3><ul><li>since: v1.12</li></ul><ul><li><code>snapshots</code> &lt;[boolean]&gt;</li></ul><p>If this option is true tracing will</p><ul><li>capture DOM snapshot on every action</li><li>record network activity</li></ul><h3 id="option-tracing-start-sources" tabindex="-1"><a class="header-anchor" href="#option-tracing-start-sources" aria-hidden="true">#</a> option: Tracing.start.sources</h3><ul><li>since: v1.17</li><li>langs: js, csharp, python</li></ul><ul><li><code>sources</code> &lt;[boolean]&gt;</li></ul><p>Whether to include source files for trace actions.</p><h3 id="option-tracing-start-sources-1" tabindex="-1"><a class="header-anchor" href="#option-tracing-start-sources-1" aria-hidden="true">#</a> option: Tracing.start.sources</h3><ul><li>since: v1.17</li><li>langs: java</li></ul><ul><li><code>sources</code> &lt;[boolean]&gt;</li></ul><p>Whether to include source files for trace actions. List of the directories with source code for the application<br> must be provided via <code>PLAYWRIGHT_JAVA_SRC</code> environment variable (the paths should be separated by &#39;;&#39; on Windows<br> and by &#39;:&#39; on other platforms).</p><h3 id="option-tracing-start-title" tabindex="-1"><a class="header-anchor" href="#option-tracing-start-title" aria-hidden="true">#</a> option: Tracing.start.title</h3><ul><li>since: v1.17</li></ul><ul><li><code>title</code> &lt;[string]&gt;</li></ul><p>Trace name to be shown in the Trace Viewer.</p><h2 id="async-method-tracing-startchunk" tabindex="-1"><a class="header-anchor" href="#async-method-tracing-startchunk" aria-hidden="true">#</a> async method: Tracing.startChunk</h2><ul><li>since: v1.15</li></ul><p>Start a new trace chunk. If you&#39;d like to record multiple traces on the same [BrowserContext], use [<code>method: Tracing.start</code>] once, and then create multiple trace chunks with [<code>method: Tracing.startChunk</code>] and [<code>method: Tracing.stopChunk</code>].</p><p><strong>Usage</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">await</span> context<span class="token punctuation">.</span>tracing<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">screenshots</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">snapshots</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> context<span class="token punctuation">.</span><span class="token function">newPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">goto</span><span class="token punctuation">(</span><span class="token string">&#39;https://playwright.dev&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">await</span> context<span class="token punctuation">.</span>tracing<span class="token punctuation">.</span><span class="token function">startChunk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token string">&#39;Get Started&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Everything between startChunk and stopChunk will be recorded in the trace.</span>
<span class="token keyword">await</span> context<span class="token punctuation">.</span>tracing<span class="token punctuation">.</span><span class="token function">stopChunk</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;trace1.zip&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">await</span> context<span class="token punctuation">.</span>tracing<span class="token punctuation">.</span><span class="token function">startChunk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">goto</span><span class="token punctuation">(</span><span class="token string">&#39;http://example.com&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Save a second trace file with different actions.</span>
<span class="token keyword">await</span> context<span class="token punctuation">.</span>tracing<span class="token punctuation">.</span><span class="token function">stopChunk</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&#39;trace2.zip&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>context<span class="token punctuation">.</span><span class="token function">tracing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Tracing<span class="token punctuation">.</span>StartOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">setScreenshots</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">setSnapshots</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Page</span> page <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">newPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
page<span class="token punctuation">.</span><span class="token function">navigate</span><span class="token punctuation">(</span><span class="token string">&quot;https://playwright.dev&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

context<span class="token punctuation">.</span><span class="token function">tracing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">startChunk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
page<span class="token punctuation">.</span><span class="token function">getByText</span><span class="token punctuation">(</span><span class="token string">&quot;Get Started&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Everything between startChunk and stopChunk will be recorded in the trace.</span>
context<span class="token punctuation">.</span><span class="token function">tracing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stopChunk</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Tracing<span class="token punctuation">.</span>StopChunkOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">setPath</span><span class="token punctuation">(</span><span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;trace1.zip&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

context<span class="token punctuation">.</span><span class="token function">tracing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">startChunk</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
page<span class="token punctuation">.</span><span class="token function">navigate</span><span class="token punctuation">(</span><span class="token string">&quot;http://example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Save a second trace file with different actions.</span>
context<span class="token punctuation">.</span><span class="token function">tracing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stopChunk</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Tracing<span class="token punctuation">.</span>StopChunkOptions</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">setPath</span><span class="token punctuation">(</span><span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;trace2.zip&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">await</span> context<span class="token punctuation">.</span>tracing<span class="token punctuation">.</span>start<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;trace&quot;</span><span class="token punctuation">,</span> screenshots<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> snapshots<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
page <span class="token operator">=</span> <span class="token keyword">await</span> context<span class="token punctuation">.</span>new_page<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span>goto<span class="token punctuation">(</span><span class="token string">&quot;https://playwright.dev&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">await</span> context<span class="token punctuation">.</span>tracing<span class="token punctuation">.</span>start_chunk<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span>get_by_text<span class="token punctuation">(</span><span class="token string">&quot;Get Started&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># Everything between start_chunk and stop_chunk will be recorded in the trace.</span>
<span class="token keyword">await</span> context<span class="token punctuation">.</span>tracing<span class="token punctuation">.</span>stop_chunk<span class="token punctuation">(</span>path <span class="token operator">=</span> <span class="token string">&quot;trace1.zip&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">await</span> context<span class="token punctuation">.</span>tracing<span class="token punctuation">.</span>start_chunk<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span>goto<span class="token punctuation">(</span><span class="token string">&quot;http://example.com&quot;</span><span class="token punctuation">)</span>
<span class="token comment"># Save a second trace file with different actions.</span>
<span class="token keyword">await</span> context<span class="token punctuation">.</span>tracing<span class="token punctuation">.</span>stop_chunk<span class="token punctuation">(</span>path <span class="token operator">=</span> <span class="token string">&quot;trace2.zip&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code>context<span class="token punctuation">.</span>tracing<span class="token punctuation">.</span>start<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">&quot;trace&quot;</span><span class="token punctuation">,</span> screenshots<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> snapshots<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
page <span class="token operator">=</span> context<span class="token punctuation">.</span>new_page<span class="token punctuation">(</span><span class="token punctuation">)</span>
page<span class="token punctuation">.</span>goto<span class="token punctuation">(</span><span class="token string">&quot;https://playwright.dev&quot;</span><span class="token punctuation">)</span>

context<span class="token punctuation">.</span>tracing<span class="token punctuation">.</span>start_chunk<span class="token punctuation">(</span><span class="token punctuation">)</span>
page<span class="token punctuation">.</span>get_by_text<span class="token punctuation">(</span><span class="token string">&quot;Get Started&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment"># Everything between start_chunk and stop_chunk will be recorded in the trace.</span>
context<span class="token punctuation">.</span>tracing<span class="token punctuation">.</span>stop_chunk<span class="token punctuation">(</span>path <span class="token operator">=</span> <span class="token string">&quot;trace1.zip&quot;</span><span class="token punctuation">)</span>

context<span class="token punctuation">.</span>tracing<span class="token punctuation">.</span>start_chunk<span class="token punctuation">(</span><span class="token punctuation">)</span>
page<span class="token punctuation">.</span>goto<span class="token punctuation">(</span><span class="token string">&quot;http://example.com&quot;</span><span class="token punctuation">)</span>
<span class="token comment"># Save a second trace file with different actions.</span>
context<span class="token punctuation">.</span>tracing<span class="token punctuation">.</span>stop_chunk<span class="token punctuation">(</span>path <span class="token operator">=</span> <span class="token string">&quot;trace2.zip&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-csharp line-numbers-mode" data-ext="cs"><pre class="language-csharp"><code><span class="token keyword">await</span> <span class="token keyword">using</span> <span class="token class-name"><span class="token keyword">var</span></span> browser <span class="token operator">=</span> playwright<span class="token punctuation">.</span>Chromium<span class="token punctuation">.</span><span class="token function">LaunchAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> <span class="token keyword">using</span> <span class="token class-name"><span class="token keyword">var</span></span> context <span class="token operator">=</span> <span class="token keyword">await</span> browser<span class="token punctuation">.</span><span class="token function">NewContextAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> context<span class="token punctuation">.</span>Tracing<span class="token punctuation">.</span><span class="token function">StartAsync</span><span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  Screenshots<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token named-parameter punctuation">Snapshots</span><span class="token punctuation">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> page <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">NewPageAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">GotoAsync</span><span class="token punctuation">(</span><span class="token string">&quot;https://playwright.dev&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">await</span> context<span class="token punctuation">.</span>Tracing<span class="token punctuation">.</span><span class="token function">StartChunkAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">GetByText</span><span class="token punctuation">(</span><span class="token string">&quot;Get Started&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ClickAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Everything between StartChunkAsync and StopChunkAsync will be recorded in the trace.</span>
<span class="token keyword">await</span> context<span class="token punctuation">.</span>Tracing<span class="token punctuation">.</span><span class="token function">StopChunkAsync</span><span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  Path<span class="token punctuation">:</span> <span class="token string">&quot;trace1.zip&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">await</span> context<span class="token punctuation">.</span>Tracing<span class="token punctuation">.</span><span class="token function">StartChunkAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">GotoAsync</span><span class="token punctuation">(</span><span class="token string">&quot;http://example.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Save a second trace file with different actions.</span>
<span class="token keyword">await</span> context<span class="token punctuation">.</span>Tracing<span class="token punctuation">.</span><span class="token function">StopChunkAsync</span><span class="token punctuation">(</span><span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  Path<span class="token punctuation">:</span> <span class="token string">&quot;trace2.zip&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="option-tracing-startchunk-title" tabindex="-1"><a class="header-anchor" href="#option-tracing-startchunk-title" aria-hidden="true">#</a> option: Tracing.startChunk.title</h3><ul><li>since: v1.17</li></ul><ul><li><code>title</code> &lt;[string]&gt;</li></ul><p>Trace name to be shown in the Trace Viewer.</p><h2 id="async-method-tracing-stop" tabindex="-1"><a class="header-anchor" href="#async-method-tracing-stop" aria-hidden="true">#</a> async method: Tracing.stop</h2><ul><li>since: v1.12</li></ul><p>Stop tracing.</p><h3 id="option-tracing-stop-path" tabindex="-1"><a class="header-anchor" href="#option-tracing-stop-path" aria-hidden="true">#</a> option: Tracing.stop.path</h3><ul><li>since: v1.12</li></ul><ul><li><code>path</code> &lt;[path]&gt;</li></ul><p>Export trace into the file with the given path.</p><h2 id="async-method-tracing-stopchunk" tabindex="-1"><a class="header-anchor" href="#async-method-tracing-stopchunk" aria-hidden="true">#</a> async method: Tracing.stopChunk</h2><ul><li>since: v1.15</li></ul><p>Stop the trace chunk. See [<code>method: Tracing.startChunk</code>] for more details about multiple trace chunks.</p><h3 id="option-tracing-stopchunk-path" tabindex="-1"><a class="header-anchor" href="#option-tracing-stopchunk-path" aria-hidden="true">#</a> option: Tracing.stopChunk.path</h3><ul><li>since: v1.15</li></ul><ul><li><code>path</code> &lt;[path]&gt;</li></ul><p>Export trace collected since the last [<code>method: Tracing.startChunk</code>] call into the file with the given path.</p>`,51);function w(y,f){const o=a("RouterLink"),e=a("ExternalLinkIcon");return i(),u("div",null,[k,d,n("p",null,[s("API for collecting and saving Playwright traces. Playwright traces can be opened in "),t(o,{to:"/book/playwright/trace-viewer.html"},{default:l(()=>[s("Trace Viewer")]),_:1}),s(" after Playwright script runs.")]),v,n("h3",h,[g,s(" option: "),n("a",m,[s("Tracing.start.name"),t(e)])]),b])}const T=c(r,[["render",w],["__file","class-tracing.html.vue"]]);export{T as default};
