import{_ as n}from"./plugin-vue_export-helper-c27b6911.js";import{o as s,c as a,f as p}from"./app-207e7d61.js";const e={},t=p(`<h1 id="存储过程-mysql" tabindex="-1"><a class="header-anchor" href="#存储过程-mysql" aria-hidden="true">#</a> 存储过程（mysql）</h1><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">delimiter</span> $$  <span class="token comment">#以delimiter来标记用$表示存储过程结束</span>
<span class="token keyword">create</span> <span class="token keyword">procedure</span> pre<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">#创建pre()存储方法</span>
<span class="token keyword">begin</span>                
	<span class="token keyword">DECLARE</span> i <span class="token keyword">INT</span><span class="token punctuation">;</span>  <span class="token comment">#定义i变量</span>
	<span class="token keyword">DECLARE</span> vmiid <span class="token keyword">INT</span><span class="token punctuation">;</span>
	<span class="token keyword">DECLARE</span> vmurl <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">SET</span> vmiid <span class="token operator">=</span> <span class="token number">449262</span><span class="token punctuation">;</span>
	<span class="token keyword">SET</span> vmurl <span class="token operator">=</span> <span class="token string">&#39;localhost/pic/0001&#39;</span><span class="token punctuation">;</span>
	<span class="token keyword">SET</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> i<span class="token operator">&lt;</span><span class="token number">10000</span> <span class="token keyword">do</span>
		<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> m_media <span class="token punctuation">(</span>miid<span class="token punctuation">,</span>mtype<span class="token punctuation">,</span>murl<span class="token punctuation">,</span>mpath<span class="token punctuation">,</span>muid<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span>vmiid<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span>vmurl<span class="token punctuation">,</span><span class="token number">123123</span><span class="token punctuation">,</span><span class="token number">67489712</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">SET</span> vmiid<span class="token operator">=</span>vmiid<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token keyword">SET</span> vmurl<span class="token operator">=</span><span class="token keyword">RIGHT</span><span class="token punctuation">(</span>vmurl<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token keyword">SET</span> vmurl<span class="token operator">=</span>CONCAT<span class="token punctuation">(</span><span class="token string">&#39;localhost/pic/&#39;</span><span class="token punctuation">,</span> <span class="token keyword">RIGHT</span><span class="token punctuation">(</span>concat<span class="token punctuation">(</span><span class="token string">&#39;0000&#39;</span><span class="token punctuation">,</span>vmurl<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">SET</span> i<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">end</span> <span class="token keyword">while</span><span class="token punctuation">;</span>
<span class="token keyword">end</span>
$$
<span class="token comment">#调用存储过程</span>
<span class="token keyword">call</span> pre<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">#删除存储过程</span>
<span class="token keyword">DROP</span> <span class="token keyword">procedure</span> pre<span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),o=[t];function c(l,i){return s(),a("div",null,o)}const r=n(e,[["render",c],["__file","存储过程（mysql）.html.vue"]]);export{r as default};
