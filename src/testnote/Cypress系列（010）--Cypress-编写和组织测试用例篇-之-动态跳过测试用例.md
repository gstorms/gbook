
## 前言
- 上一节只讲了如何跳过执行 or 只执行某些测试用例集 or 测试用例
- 在实际项目中，可能存在需要**在运行中动态地去决定某个测试是否需要执行**

 

## 如何动跳过执行某些测试用例

### 测试代码
![](https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200603205917366-1114669465.png)  
 

### 运行以下命令
进入 Cypress 安装目录，cmd敲

```javascript
yarn cypress:open --env flag=1
```
打开 Cypress Test Runner 之后运行上面的代码文件  
 

### 测试结果
![](https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200603205920387-271192249.png)  
   
当 flag != 1 时的测试结果  
![](https://img2020.cnblogs.com/blog/1896874/202006/1896874-20200604103322605-821121497.png)  
 

### 知识点

- 我们可以通过指定**环境变量**来动态判断是否执行指定的测试用例
- 设置环境变量有很多种方法，这里用的是**命令行方式**，格式： --env key=val1,key2=val2 ，若需要指定多个环境变量则需要**逗号**来隔开，而不是空格
- this.skip() ，当测试用例内调用该方法时，方法**后面的代码**都不会执行，方法前面若是调用 Cypress 的方法则也不会执行（如： cy.visit() 、 cy.log() ），只有非 Cypress 方法才会执行（如： console.log("1234") ）

**备注：**后面再讲环境变量不同的配置方式

> [https://www.cnblogs.com/poloyy/p/13040113.html](https://www.cnblogs.com/poloyy/p/13040113.html)

